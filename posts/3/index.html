<!DOCTYPE html>
<html lang="en">
<!--.  ,--,                          ,-. ,-.
 |  | /  /                         __| |_| |
 |  |/  / _ __ _   _ ____ _   _ _ (__, ._| |___
 |      \| `__| | | Y ___| |_| | `_  \ | | ,_. \
 |  |\   \ |  | |_| |___ \___, | | | | | | | | |
 |__| \___\|  '.__,_|____/ __| |_| |_|_| |_| |_|
                          '----><head>
 <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Page 3 of 5 for posts | Bill Hunt</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="posts" />
<meta name="author" content="Bill Hunt" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Personal website and blog of Bill Hunt" />
<meta property="og:description" content="Personal website and blog of Bill Hunt" />
<link rel="canonical" href="https://billhunt.dev/posts/3/" />
<meta property="og:url" content="https://billhunt.dev/posts/3/" />
<meta property="og:site_name" content="Bill Hunt" />
<meta property="og:type" content="website" />
<link rel="prev" href="https://billhunt.dev/posts/2/" />
<link rel="next" href="https://billhunt.dev/posts/4/" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="posts" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Bill Hunt"},"description":"Personal website and blog of Bill Hunt","headline":"posts","url":"https://billhunt.dev/posts/3/"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="/assets/css/main.css?1717012122">
  <link rel="stylesheet" media="print" href="/assets/css/print.css?1717012122">

  <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />
  <link rel="alternate" type="application/atom+xml" title=" - Posts" href="https://billhunt.dev/feed.xml" />
  <link rel="alternate" type="application/atom+xml" title=" - Featured Jobs " href="https://billhunt.dev/jobs.xml" />
  <link rel="alternate" type="application/atom+xml" title=" - USAJobs List" href="https://billhunt.dev/jobs.xml" />
  <link rel="alternate" type="application/atom+xml" title="Enderprise Architecture YouTube Series" href="https://www.youtube.com/feeds/videos.xml?channel_id=UCSL7BIdwgBEZ09BpD9xPPYQ">
  <link rel="meta" type="application/rdf+xml" title="FOAF" href="https://billhunt.dev/foaf.rdf" />
  

  <link rel="me" href="https://mastodon.publicinterest.town/@krusynth" />
  <link rel="me" href="https://mastodon.cloud/@krusynth" />

  <script src="https://static.billhunt.dev/js/jquery.min.js?1717012122"></script>
  <script src="https://static.billhunt.dev/assets/js/unpoly.min.js?1717012122"></script>
  <script src="https://static.billhunt.dev/assets/js/fontawesome-6/fontawesome.min.js?1717012122"></script>
  <script type="module" src="/assets/js/main.js?1717012122"></script>
  <script src="/assets/js/search.js?1717012122"></script>
  <script src="/assets/js/jobs.js?1717012122"></script>
  <script src="https://static.billhunt.dev/assets/js/blink-polyfill.js"></script>
</head>
<body><nav class="navbar navbar-expand-lg container">
  <div class="branding">
    <a class="navbar-brand" rel="author" href="/" title="Bill Hunt | Home" up-follow>Bill Hunt</a>
    <div class="about-description">
      U.S. Gov Civic Technologist & Policy Expert
    </div>
  </div>

  <div class="navlink-container">
    <ul class="nav navbar-nav nav-pages">
      <li class="nav-item nav-page nav-search" id="nav-search">
        <a class="nav-link" href="/search/" title="Search" up-follow><span class="fa-magnifying-glass fas"></span></a>
      </li>
      <li class="nav-item nav-page">
        <a class="nav-link" href="/blog/" up-follow>Blog</a>
      </li>
      <li class="nav-item nav-page">
        <a class="nav-link" href="/about/" up-follow>About</a>
      </li>
      <li class="nav-item nav-page">
        <a class="nav-link" href="/shop/" up-follow>Shop</a>
      </li>
       <li class="nav-item nav-page">
        <a class="nav-link" href="/jobs/" up-follow>Jobs</a>
      </li>
      <li class="nav-item nav-page">
        <a class="nav-link" href="/links/" up-follow>Links</a>
      </li>
      <li class="mastodon nav-item nav-social">
        <a href="https://mastodon.publicinterest.town/@krusynth" title="Mastodon" class="nav-link" rel="me"><span class="fab fa-mastodon icon"></span></a>
      </li>
        
      <li class="github nav-item nav-social">
        <a href="https://github.com/krusynth" title="GitHub" class="nav-link" rel="me"><span class="fab fa-github icon"></span></a>
      </li>
        
      <li class="linkedin nav-item nav-social">
        <a href="https://www.linkedin.com/in/krusynth/" title="LinkedIn" class="nav-link" rel="me"><span class="fab fa-linkedin icon"></span></a>
      </li>
        
      
    </ul>
  </div>

  <div class="audioplayer-block">
    <div id="audioplayer" class="audioplayer">
      <button id="playpause" class="player-button"><span class="fas fa-play" id="playbutton"></span><span class="fas fa-pause hide" id="pausebutton"></span></button>
      <select id="audiofile" class="player-button tracklist" aria-label="Track to Play">
        <option value="Nine_Inch_Nails-Head_Like_A_Hole.midi.mp3">Nine Inch Nails - Head Like A Hole</option>
        <option value="Prodigy-Breathe.midi.mp3">Prodigy - Breathe</option>
        <option value="Sisters_of_Mercy-Temple_of_Love.midi.mp3">Sisters of Mercy - Temple of Love</option>
        <option value="The_Cult-She_Sells_Sancturary.midi.mp3">The Cult - She Sells Sancturary</option>
        <option value="KMFDM-Megalomaniac.midi.mp3">KMFDM - Megalomaniac</option>
        <option value="Tool-Aenima.midi.mp3">Tool - Aenima</option>
        <option value="Rammstein-Engel.midi.mp3">Rammstein - Engel</option>
        <option value="Rancid-TimeBomb.midi.mp3">Rancid - TimeBomb</option>
        <option value="Mighty_Mighty_Bosstones-The_Impression_That_I_Get.midi.mp3">Mighty Mighty Bosstones - The Impression That I Get</option>
        <option value="Offspring-All_I_Want.midi.mp3">Offspring - All I Want</option>
        <option value="Smashing_Pumpkins-1979.midi.mp3">Smashing Pumpkins - 1979</option>
        <option value="Nirvana-Heart_Shaped_Box.midi.mp3">Nirvana - Heart Shaped Box</option>
      </select>
    </div>
  </div>

  <section class="about-header">
    <div class="navbar-tagline" id="tagline">Move carefully and fix things</div>
  </section>
</nav>
<div class="content" id="main" up-main>
        <section class="posts content-container posts">

  <header class="section-header">
    <h2 class="section-title">posts</h2>
      <ol class="meta-links">
          <li>
            
          </li>
      </ol>
  </header>

  

  <div class="posts-container">
    

      
      

      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2018/12/16/the-secret-equation-of-job-satisfaction/"up-follow>The Secret Equation of Job Satisfaction</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2018.12.17
            </span> –
          
            Many lengthy books and articles have been written on how to be fulfilled at work, good management, and keeping your staff engaged and excited. However, I’ve found one simple equation that is the secret to all of these.

<img src="/uploads/2018/12/satisfaction_01.png" alt="Satisfaction = " /> <img src="/uploads/2018/12/satisfaction_02.png" alt="Volition / Friction" />

If you’re not satisfied with your job, it’s probably because you don’t feel effective or that your work has the desired outcome – your <em>volition</em>, or because there’s too much resistance, bureaucracy, barriers, and day-to-day minutiae for you to enjoy the work – the <em>friction</em>.  Satisfaction is a measure of your volition over the job’s friction. More volition increases satisfaction, as does less friction.

Let’s say that your control over your job is around 5 on some magical undefined scale – you can do the things you need to some of the time. However, the amount of paperwork you have to fill out to do the job is around a 10.  5/10 = ½, so you’re probably not going to be very satisfied. On the other hand, if you have lots of control and can make all the decisions you need – let’s call this 10 – and you have no daily design-by-committee meetings to wrangle – let’s give this one a 2, you’re at 10/2 = 5, which is looking pretty good.

You don’t really need the scale or the points here, it’s just to show how the two relate to each other. The ratio of volition to friction will determine your level of job satisfaction. Research suggests that people feel most fulfilled when they are being challenged just beyond their current capacity. Too little challenge or too much challenge become either boring or overwhelming.

Although being able to direct your work is the most obvious component of volition, it can include many supplementary factors. The alignment of your skills and background to your work can impact your volition. Feeling that your work has an impact on the world can also be a major element.

Friction is comprised of several components as well. If your organization has unnecessary processes and procedures, those barriers to productivity will cause friction. If you work more than 40 hours per week or your commute is long that will likely cause friction by cutting into personal time. If your organization requires extensive reviews and buy-in from multiple stakeholders to accomplish tasks that may cause friction. Anything that causes you to become quickly exhausted at your job is likely adding to the friction.

<strong>To increase your job satisfaction, you’ll need to increase your volition in the job or decrease your friction.</strong>

To increase your volition you can take many steps in your current job.  This includes outsourcing or delegating unwanted tasks, taking on different projects that you enjoy more than your current projects, learn key information or skills, increase the level of challenge by taking on harder projects, decrease the level of challenge by collaborating with experts.  To dramatically increase your volition you may need to find a new job.

To decrease the level of friction there are many things to do as well.  You can outsource and delegate tasks to decrease your weekly hours. You can work from home several days to decrease your weekly commute time.  You can decrease the number of weekly meetings with your teams. Any of these can make the job feel easier even if the workload hasn’t decreased.

This isn’t to say that there aren’t terrible jobs in the world that no one would ever enjoy. You may be in a job where neither of these variables can be changed enough to make a major impact on your happiness. It’s a good idea to regularly assess where you’re at on this scale just to make sure your satisfaction isn’t slipping away.

If you’re familiar with Agile methodologies, this should sound somewhat familiar. “Individuals and interactions over processes and tools” is a core tenet of the Agile approach. Putting the individual in control and reducing the cruft of processes is just good practice.

<strong>As a manager</strong>, I often use this equation to help increase my staff’s satisfaction as well. I may not be able to always give a staff member more control over their work, but I can drop half of our check-in meetings to free up their time, or find ways to reduce the amount of paperwork they have to file to do their job. However, in many cases I can do both at once – by allowing staff to act independently in their projects with less oversight. This brings up another equation that I’m fond of:

<img src="/uploads/2018/12/delivery.png" alt="Trust + Autonomy = Delivery" />

In general, if you hire good, talented people, all you need to do is <em>trust _them to do their job and give them the _autonomy</em> they need to do it, and they’ll <em>deliver</em> good work. (Buckminster Fuller talks about this in Operating Manual for Spaceship Earth, in describing the “Great Pirates.”) Giving your people the space they need to execute and support they need to see their work through will build trust and autonomy. Best of all, trust can increase volition, and autonomy can decrease friction, resulting in delivery <em>and</em> satisfaction.

Each one of these components can be broken down into various topics for in depth study.  The high level equation helps identify what the missing component is to getting the desired results.  I hope you’ll keep this equation in mind when you’re approaching your own work, and see if you can find ways of creating a better balance.

          
          </p>
          <p>
            <a href="/blog/2018/12/16/the-secret-equation-of-job-satisfaction/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    

      
      

      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2018/10/24/the-hype-market/"up-follow>The Hype Market</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2018.10.25
            </span> –
          
            <span style="font-weight: 400;">It takes time, money, and other resources to execute on any new information technology initiative. In theory, there should be a return on investment for any new IT development. However, in the current market landscape, a lot of effort is being wasted on reinventing the wheel or misapplying solutions, rather than driving towards proving greater value to citizens and customers. The relatively low cost of experimentation and implementation of processes result in a fetishization of abstraction, leading to further and further complexity even if a proportional benefit is not achieved. </span><!--more-->

<h2 id="technology-is-a-bridge"><span style="font-weight: 400;">Technology is a Bridge</span></h2>

<span style="font-weight: 400;">Most businesses and government services aim to connect a person’s intention to an outcome. Whether we’re helping someone call a restaurant to make a reservation, or helping a Veteran to understand their benefits, we’re aiding someone to solve a problem. In short, we’re bridging the gap between a customer and a service.</span>

<img class="alignnone size-full wp-image-1241" src="/uploads/2018/10/1-user-service.png" alt="" />

<span style="font-weight: 400;">Technology is introduced into the process of delivering a service to a customer to automate one or more steps, it effectively shortens the gap. In general, technology is not seamless in this process – that is, there are almost always steps between the customer’s intent and the resulting action that have to be filled through human intervention or additional services. You can’t think “pizza” and have a pizza instantly appear  – but an app to order pizza removes some of the burden of calling the pizza place and having them take your order, prepare it, and deliver it to your doorstep.</span>

<img class="alignnone size-full wp-image-1242" src="/uploads/2018/10/2-technology.png" />

<span style="font-weight: 400;">Today there are new automation tools available to practitioners who want to create access to services through technology. If you want to create a service so that someone is able to order a pizza, you can set up a website or a mobile app to do so, because there’s already computers, and the Internet, and web browsers on the computers, and protocols for everything to talk to each other. So for anyone trying to solve a problem, the real value is in making the process simpler or easier through </span><em><span style="font-weight: 400;">further</span></em> <em><span style="font-weight: 400;">automation</span></em> <span style="font-weight: 400;">– say, having your website be able to actually show the order automatically at the pizza place on a screen, or automatically send you a text when the pizza is out for delivery with an ETA. Based on the previous diagram, the goal is to expand the boundaries of technology to further fill the gaps between the customer and the service.</span>

<img class="alignnone size-full wp-image-1243" src="/uploads/2018/10/3-potential-value.png" />

<span style="font-weight: 400;">However, that gap is not where the technology industry focus most of its time and money. Software engineers are spending more and more of our resources mucking about with tools that are simply thinner and thinner slices of micromanagement around already-solved problems. In practice, the industry is just creating additional layers that are largely unnecessary for the end customer.</span>

<img class="alignnone size-full wp-image-1244" src="/uploads/2018/10/4-complexity.png" />

<span style="font-weight: 400;">Here’s a real world example, again using a website.  In 1998, it took a few hours to set up a website. Most of our time was spent on designing it, then hand-coding HTML to post on a webserver.  As our tools evolved, the time to perform these steps decreased, but the complexity of the tools themselves has increased dramatically. Today, it can take ten times as long to create a basic website as it did decades ago.</span>

<img class="alignnone size-full wp-image-1245" src="/uploads/2018/10/5-website.png" />

<span style="font-weight: 400;">After twenty years, technology has moved a little closer to the person requesting the information due to improved User Experience, and the end user can get to the information a little faster and easier, but mostly there’s lots of additional complexity in the middle layers. These middle layers have created a very rich market of expensive services and skills based on these bleeding-edge technologies.</span>

<h2 id="blockchain-a-parable"><span style="font-weight: 400;">Blockchain: A Parable</span></h2>

<span style="font-weight: 400;">As a result, the world has seen the rise of numerous solutions with overblown promises of impact, fueled by speculation of venture capital. Blockchain (or distributed ledgers) is a popular example, which has elevated itself with an innate brand of “value” due to being associated with Bitcoin, a popular cryptocurrency using the technology. </span>

<img class="alignnone size-full wp-image-1246" src="/uploads/2018/10/bc-1-traditional.png" />

<span style="font-weight: 400;">Most computer systems take data from one person, put it into a storage location (usually a database), and then output it for someone else’s review. One problem that people have with these systems is that there’s no way to validate that the data submitted by the first person is the same as what the person on the other end receives.</span>

<img class="alignnone size-full wp-image-1247" src="/uploads/2018/10/bc-2-vulnerabilities.png" />

<span style="font-weight: 400;">There are numerous points along that path where a malicious actor – or broken process – can modify or corrupt the data. That can be a hacker exploiting a vulnerable system, data corruption due to failed hardware, or any number of other failures. The submitting person could also just be lying about the data, or the person receiving it could lie about the results. </span>

<img class="alignnone size-full wp-image-1248" src="/uploads/2018/10/bc-3-think.png" />

<span style="font-weight: 400;">Companies selling blockchain as a solution make the promise that these points of failure can be eliminated by having an authoritative record – or ledger – of all changes to the data. However, in reality, blockchain fulfills only a small piece of this process.</span>

<img class="alignnone size-full wp-image-1249" src="/uploads/2018/10/bc-4-real.png" />

<span style="font-weight: 400;">In most cases, it simply replaces the database with another type of database, which provides additional checks. This still doesn’t solve the original problem of ensuring that the data is valid on both ends.</span>

<img class="alignnone size-full wp-image-1250" src="/uploads/2018/10/bc-5-vulnerabilities.png" />

<span style="font-weight: 400;">To visualize this, let’s say I have four apples.  I write down on paper that I have six apples. You read the paper and double check that I do in fact say that I have six apples. You have no proof I ever had six apples, only the promise that I did.  You could then go report that I have eight apples and that you double-checked that fact and you promise that it’s true. This is how blockchain gives a false sense of security.</span>

<h2 id="addressing-the-market-forces"><span style="font-weight: 400;">Addressing the Market Forces</span></h2>

<span style="font-weight: 400;">And still the sales pitch still works!  Companies are spending millions to adopt “blockchain” technologies – many of which are so stripped of features that they can’t even be called a distributed ledger anymore. But even if purchasers don’t know the difference, technologists must know that much of this additional complexity is merely hype. Why would software engineers want to use it in the first place?</span>

<span style="font-weight: 400;">One way to consider this is that engineers obsess on generating higher and higher orders of abstraction. Abstraction, however, generally increases complexity by moving concerns to a higher order function.  Think of going from a wheelbarrow to a bicycle. Bicycles can reduce the amount of energy needed to move a load around due to gears – but those gears are also more complex than just an axle and wheels. Suddenly you have extra parts to keep up and grease, and to build them from scratch you’d need to understand the math behind gearing ratios.</span>

<span style="font-weight: 400;">With physical processes, resource limitations and cost-effectiveness become natural restrictions on automation. But in software, there are rarely such restrictions; rather, software developers are actively encouraged to create more complex tools, often as “side projects” outside of their main working hours – though frequently eschewing any hope of a healthy work-life balance. These developers and tools are given prominence on stage at most technology conferences, becoming superstars of the technology world and further adding to the hype. Very few people garner attention for solving common problems with common tools. (E.g., there are four major competing Javascript bundlers today, while </span><a href="https://www.gnu.org/software/make/manual/make.html"><span style="font-weight: 400;">make</span></a><span style="font-weight: 400;">, written in 1976, can do just about everything.)</span>

<span style="font-weight: 400;">To look at this cynically, extra complexity means higher cost.  Technology as a business is largely about hype, the newest and coolest tools are a selling point for most tech-reliant industries (which is most industries). The rise of outsourcing overseas, to areas where costs are much lower, continues to drive down the cost of technology development in the west. But using all of these rapidly-evolving technologies increases the cost to develop, so engineers can demand higher salaries.  It’s only by continuing to evolve the market of solutions to newer and trendier alternatives that the system can maintain its value, otherwise everyone would all settle on a low-bar minimum baseline and scaffold from there – like using dumb “feature” phones with mail and chat features, instead of smart phones. But that wouldn’t allow anyone to maintain the higher prices.</span>

<span style="font-weight: 400;">These solutions are, as a result, extremely short-lived. Newer model iPhones come out annually.  And a new major Javascript framework establishes market dominance on the web every 18 to 36 months or so. Although at the time of writing we are in the height of React’s reign, we’ve already seen that market splinter and fragment, adding new layers within React, including Redux, Sagas, and others. Every piece of software released today is the legacy technology of tomorrow.</span>

<span style="font-weight: 400;">This market churn makes it difficult for any new engineers to enter the workforce, as any skills learned in a developed curriculum will largely be out of date by the time the student graduates. Only full-time software engineers are able to compete, and they must dedicate a considerable part of their time to staying current, lest they fall behind and become unemployable.  Though, this will eventually give way to a secondary market of expensive engineers specializing in legacy systems, as seen during the Y2K panic. The Federal Government also continues to provide a welcome market for outdated technology skills.</span>

<h2 id="moving-past-hype-through-accountability--simplicity"><span style="font-weight: 400;">Moving Past Hype Through Accountability &amp; Simplicity</span></h2>

<span style="font-weight: 400;">The hype cycle and automation cult isn’t going away anytime soon.  But we all – government and private sector alike – can work to be more cynical about the technologies presented to us, to dive deep on the topics, and look to experts to inform our opinions.  We can demand proven, reliable solutions with longevity instead of just the newest buzzwords. And we must plan for the inevitable economic downturns in the future that will impact the IT market, like we saw in the “dot com” crash of the late 1990s.  There will always be money to be had in IT, but the bubble must burst (again) eventually.</span>

<span style="font-weight: 400;">Another thing we can do to combat this trend is to stand up for simplification; using the easiest – and most well known – solution will often be the most cost-effective.  This will inevitably erode the market, driving down costs and associated salaries, and reduce technology practitioners to skilled tradespeople like plumbers or electricians.  In this way, we can plan for a more stable future technology market, with far greater longevity.</span>

<span style="font-weight: 400;">Through this dedicated effort and planning, we can focus our efforts on those areas of greater value instead, creating a more seamless Customer Experience which actually solves problems for people more efficiently and cheaply, instead of just making increasingly impressive profit margins for private companies.</span>


          
          </p>
          <p>
            <a href="/blog/2018/10/24/the-hype-market/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    

      
      

      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2017/06/12/the-myth-of-the-flat-organization/"up-follow>The Myth of the Flat Organization</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2017.06.12
            </span> –
          
            <section class="section section--body section--first">

<div class="section-content">
  <div class="section-inner sectionLayout--insetColumn">
    <img class="size-full wp-image-613" src="/uploads/2017/08/1-oR4vIZ3Sl7iSLacSJV4AZQ.jpeg" alt="" />

    <p class="wp-caption-text">
      &#8220;Floor 1997–2000&#8221; by artist Do-Ho Suh
    

    <p id="0e0c" class="graf graf--p graf-after--figure">
      Over the last few years, an increasing number of technology companies and agencies have adopted a flat hierarchical structure. This organizational system promises to improve the efficiency of organizations by removing management structures, leaving as few management layers as possible. I believe that it is also almost entirely imaginary.
    

    <p id="c4b1" class="graf graf--p graf-after--p">
      Since the popular game company <a class="markup--anchor markup--p-anchor" href="http://www.valvesoftware.com/company/Valve_Handbook_LowRes.pdf" target="_blank" rel="nofollow noopener noreferrer" data-href="http://www.valvesoftware.com/company/Valve_Handbook_LowRes.pdf">Valve published its employee handbook online in 2012</a>, companies have looked to the text for ways to improve their own processes. Growing companies stopped hiring middle level managers, project managers, and other critical roles in favor of letting engineers manage themselves. This was a very attractive move for smaller organizations, since it reduced the number of positions they needed to hire for, reducing their operating costs dramatically. For engineers it can be initially compelling to be able to set their own priorities amongst themselves — and potentially get an inflated title such as “Lead” or “VP” (but often with no additional compensation).
    

    <h3 id="a44d" class="graf graf--h3 graf-after--p">
      Management is best done by managers
    </h3>

    <p id="d7c3" class="graf graf--p graf-after--h3">
      However, in practice, it’s rarely so simple. By serving dual roles on a team, performance often suffers as staff try to context shift. <span class="markup--quote markup--p-quote is-other" data-creator-ids="bdbae7b10ee6">Good engineers do not automatically make good managers — <a class="markup--anchor markup--p-anchor" href="http://fractio.nl/2014/09/19/not-a-promotion-a-career-change/" target="_blank" rel="nofollow noopener noreferrer" data-href="http://fractio.nl/2014/09/19/not-a-promotion-a-career-change/">working with computers and working with people require very different skillsets</a>.</span> A company wouldn’t expect a business manager to write code, so why should the reverse be encouraged?
    

    <blockquote id="4847" class="graf graf--blockquote graf--startsWithDoubleQuote graf-after--p">
      
        <span class="markup--quote markup--blockquote-quote is-other" data-creator-ids="2266a5fd21a">“Flattening the org chart just means creating a hierarchy of emotional labor”</span>
      
    </blockquote>

    <blockquote id="90f2" class="graf graf--blockquote graf-after--blockquote">
      
        —<a class="markup--anchor markup--blockquote-anchor" href="https://twitter.com/stvnrlly/" target="_blank" rel="nofollow noopener noreferrer" data-href="https://twitter.com/stvnrlly/">Steven Reilly</a>
      
    </blockquote>

    <p id="ec2f" class="graf graf--p graf-after--blockquote">
      In a flat organization, it is no one’s dedicated job to handle many of the complex human interactions that a business must handle. At one organization, I found myself staying up late nights, writing human resource policies, vacation plans, and codes of conduct. From project management to conflict resolution, functions that are filled by dedicated staff in other businesses frequently become after-hours extra labor by engineering staff. So-called soft skills and human-oriented problems are treated as secondary to achieving product goals.
    

    <p id="824f" class="graf graf--p graf-after--p">
      It may be necessary for staff to serve multiple roles initially for very small organizations to be able to function, but beyond the first dozen staff this is not a practical or ethical way to accomplish tasks. <span class="markup--quote markup--p-quote is-other" data-creator-ids="374bc14350c4 8bfc99121ab3 anon">If you’re large enough to be thinking about insurance plans and snack delivery, you’re large enough to hire management.</span> A good project manager or human resources officer is a much better investment than that a lavish office space will be.
    

    <p id="38a4" class="graf graf--p graf-after--p">
      Even in large companies, <a class="markup--anchor markup--p-anchor" href="https://www.nytimes.com/2015/02/08/opinion/sunday/sheryl-sandberg-and-adam-grant-on-women-doing-office-housework.html" target="_blank" rel="nofollow noopener noreferrer" data-href="https://www.nytimes.com/2015/02/08/opinion/sunday/sheryl-sandberg-and-adam-grant-on-women-doing-office-housework.html">it’s very common for women to be expected to perform administrative duties outside of their roles</a>, such as taking notes or scheduling meetings. In flat organizations, it’s very common for many of the “extra” tasks to be assigned to women and minorities first. <span class="markup--quote markup--p-quote is-other" data-creator-ids="bdbae7b10ee6">The inherent cultural biases in technology only increases the odds that these groups will be expected to do more than their share.</span> It’s also common for more junior staff to be assigned the less exciting work, for instance being assigned to fix bugs instead of writing new code.
    

    <h3 id="e2cb" class="graf graf--h3 graf-after--p">
      Hierarchies form anyway, and unfairly
    </h3>

    <blockquote id="a37f" class="graf graf--blockquote graf--startsWithDoubleQuote graf-after--h3">
      
        “A flat org just replaces vertical hierarchy with concentric levels of inner circleness… <span class="markup--quote markup--blockquote-quote is-other" data-creator-ids="8bfc99121ab3">If you remove formality you can avoid accountability</span> and responsibility with policy of openness that is a convention of silence in practice.”
      
    </blockquote>

    <blockquote id="5a10" class="graf graf--blockquote graf-after--blockquote">
      
        <em class="markup--em markup--blockquote-em">— </em><a class="markup--anchor markup--blockquote-anchor" href="https://twitter.com/ozzydidact/" target="_blank" rel="nofollow noopener noreferrer" data-href="https://twitter.com/ozzydidact/"><em class="markup--em markup--blockquote-em">Ozzy Johnson</em></a>
      
    </blockquote>

    <p id="604d" class="graf graf--p graf-after--blockquote">
      <span class="markup--quote markup--p-quote is-other" data-creator-ids="8bfc99121ab3 460980aab192">In many organizations that aim to be flat, a hierarchy emerges based on social cliques and personal relationships, instead of an officially established order.</span> The ideas of staff who spend time socially with owners and executives tend to be adopted more readily. In many organizations I’ve worked for, I’ve frequently seen talented staff passed over for promotion in favor of friends of company owners and managers.
    

    <p id="9202" class="graf graf--p graf-after--p">
      People, by nature, surround themselves with like-minded — and <em class="markup--em markup--p-em">like-cultured</em> — individuals, creating echo chambers and consolidating power in in-groups. This almost always puts women and minorities at a disadvantage. In a structured organization formal policies on hiring and process can help to prevent the biases and inequalities that come from such in-groups, but a flat organization has no such defense from becoming a good ol’ boys club.
    

    <p id="a1f2" class="graf graf--p graf-after--p graf--trailing">
      It has been <a class="markup--anchor markup--p-anchor" href="http://www.pcgamer.com/valves-flat-structure-contains-hidden-layer-of-powerful-management-claims-ex-employee/" target="_blank" rel="nofollow noopener noreferrer" data-href="http://www.pcgamer.com/valves-flat-structure-contains-hidden-layer-of-powerful-management-claims-ex-employee/">reported that this was the situation at Valve</a> as well. <span class="markup--quote markup--p-quote is-other" data-creator-ids="8bfc99121ab3">Since there is no official hierarchy, there is often no way to call out the favoritism that comes with these factions, and rarely any formal process for resolution.</span> Even when group-based decision making is a part of the process, individuals outside of the power centers tend to speak up less, adding to the asymmetry.
    
  </div>
</div></section>
<section class="section section--body section--last">

<div class="section-divider">
  <hr class="section-divider" />
</div>

<div class="section-content">
  <div class="section-inner sectionLayout--insetColumn">
    <p id="d613" class="graf graf--p graf--leading graf--trailing">
      Although I was initially very excited about the prospect of flat organizations, I have yet to work in one that was effective. Modern business practices and the laws that govern them have mostly evolved to help create a more level playing field for employees. Although tech culture fetishizes rule breaking, disdain for authority, and meritocracy, these only contribute to the very toxic culture that has evolved. For the good of our industry, we could all do with a few more rules — and a few more managers.
    
  </div>
</div></section>

          
          </p>
          <p>
            <a href="/blog/2017/06/12/the-myth-of-the-flat-organization/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    

      
      

      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2016/11/23/lessons-from-the-sunset-of-sunlight-labs/"up-follow>Lessons from the Sunset of Sunlight Labs</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2016.11.23
            </span> –
          
            <p dir="ltr">
  A few months ago, I joined <a href="https://sunlightfoundation.com/">Sunlight Foundation</a> as their Senior Technology Adviser. <a href="https://twitter.com/rightsduff">Kat Duffy</a>, who was then the Sunlight Labs director, brought me on to help bolster their programming efforts and lend support across the organization. However, only a couple of weeks later we learned that <a href="http://sunlightfoundation.com/2016/09/20/statement-from-sunlight-foundations-board-chairman/">Sunlight Labs was being shut down entirely</a>. <!--more-->With the time we had until the official closure, we quickly shifted our focus to

  <a href="http://sunlightfoundation.com/2016/11/01/sunlight-labs-update-nonprofits-step-up-to-preserve-tools-for-transparency/">preserving the legacy of Labs’ work over the last decade</a>.


<p dir="ltr">
  A quick inventory of our technology assets revealed hundreds of repositories and over fifty servers in various states of decay. A lot of effort would be required to preserve the data and tools for future use. What follows are a few of the lessons from this work.


<p dir="ltr">
  It’s important to note that Sunlight Labs was never a traditional software development shop – it was always an incubator in which interesting ideas were cultivated. Resources were frequently limited, and delivering new tools and concepts was the top priority. Many of the tools created were never designed to be released. As anyone who’s worked under these constraints can attest, best methods and rigorous practice are often put aside to focus on delivery.


<h2 dir="ltr">
  Begin with an end
</h2>

<p dir="ltr">
  The most important thing I’ve learned in the last few years is to start all projects with an end in mind. I’ve written previously about <a href="https://krues8dr.com/blog/2016/09/27/the-end-of-the-second-act-of-civic-tech/">the uncertain future of civic technology and nonprofit funding</a>.  We can no longer take for granted that our projects will continue forever. Far too many civic technology projects have effectively become abandonware as a result of lack of foresight.


<p dir="ltr">
  One effective way of preventing this is to begin your project by thinking about your end goals. Do you want to create a tool for other people to take and use? Is it good enough to simply release some data once and then move on? Is your project one that you’re willing to independently run indefinitely? How long can you expect to be able to work on it? What happens to the project if something happens to you or your organization?


<p dir="ltr">
  Writing down all of your contingency plans in a public way can help to mitigate these problems when they inevitably come up later. Make sure that you would feel comfortable if you had to walk away from your work tomorrow. Setting a deadline for the end of your work, and communicating this information with stakeholders, can be useful as well.


<h2 dir="ltr">
  Documentation
</h2>

<p dir="ltr">
  We all are aware of the critical importance of documenting our projects, yet few projects have good documentation. It can be very time-consuming to write down everything that a new person needs to know about your project, but this is absolutely critical work. I recommend doing as much of this work as possible up-front, and making it an integral part of your process moving forward. This is still useful even if your work isn’t writing code for computers – always take the time to write for humans.


<p dir="ltr">
  In the same way that you have your peers review your work or that you write your tests, make sure to include writing documentation as a step in the process. Make a new rule for your team: if a feature doesn’t have documentation, it doesn’t get merged and it doesn’t ship.


<p dir="ltr">
  Assume nothing. Although today you may have the luxury of showing every new team member how every system works as part of their onboarding process, that may change suddenly and without warning. Write as if your end user probably knows nothing about your internal process. Make sure you explain every step of using your tools – from getting the data to running and deploying the software. Give examples as frequently as possible, with screenshots and exact commands wherever it makes sense.


<h2 dir="ltr">
  Licensing
</h2>

<p dir="ltr">
  As a general rule, if your code and/or data doesn’t have a license, no one else can use it. There are huge exceptions to this, but it is almost always easier to be explicit than to hire a legal team.


<p dir="ltr">
  Since a large number of Sunlight’s projects did not have licenses, I <a href="https://github.com/krues8dr/project-migration">created a tool to add licenses in bulk</a> to all projects that were missing them.  We used the <a href="https://www.gnu.org/licenses/gpl-3.0.en.html">GPLv3 license</a> for most of these, as it is a strong license that requires sharing of modifications to code, helping to preserve these tools for future use.  There are lots of <a href="http://choosealicense.com/">other good licenses</a> to consider, however.


<h2 dir="ltr">
  Keep a clean house
</h2>

<p dir="ltr">
  One of the more laborious tasks was preparing the many projects to be <a href="https://github.com/sunlightlabs">shared publicly on GitHub</a>. Since a large number of these project had only been stored on an internal GitLab server with no public access, many of them had secure secrets – passwords and API credentials – hardcoded into the source. Frequently, these credentials were stored outside of the usual settings files, and since the credentials were different on every project, tools like <a href="https://rtyley.github.io/bfg-repo-cleaner/">BFG</a> were not enough to find all of them. Again, I ended up having to write a <a href="https://github.com/krues8dr/project-migration">collection of tools</a> to migrate repositories from GitLab to GitHub, to check for potentially problematic files, and to automatically remove credentials from those files. Even after that, it still required many hours of manually reviewing code to check for stray credentials.


<p dir="ltr">
  For most projects, it’s a better idea to never check in any secure credentials to your repositories in the first place. <a href="https://12factor.net/config">Storing these in the environment instead</a> is a common way of avoiding this situation. If that’s too complicated for any reason, you can always simply use standard configuration files and have Git (or whatever version control tool you prefer) ignore them.


<p dir="ltr">
  Do remember to keep an example of your configuration file in the repository and up-to-date, though. In one case we were unable to deploy updated code to our server due to an incomplete Fabric configuration, and had to update the code manually on the live server as a result.


<h2 dir="ltr">
  Pick the simplest solution
</h2>

<p dir="ltr">
  One of the biggest challenges was the large number of simple “brochure” sites that were custom applications written from scratch, instead of using a common off-the-shelf solution. These were difficult for staff to maintain and keep running – often taking three different people to update a single page. In one case, we lost all of the content of a site due to it being built on Heroku using a database service that ceased to exist – we had to scrape the Internet Archive to get the content back. The main Sunlight Foundation website itself was one of the most complicated applications that Labs had created, pulling data from seven different databases – each one a completely different type (including MySQL, PostgreSQL, Mongo, Redis, Memcache, and others) – to deliver the content.


<p dir="ltr">
  Since Sunlight would no longer have any dedicated technical team, keeping these running wouldn’t be viable. After discussing with the rest of the staff, I picked WordPress as a simple platform for people to be able to manage the content moving forward. We picked WPEngine for managed hosting, so staff could rely on them to handle any technical issues that might arise.


<p dir="ltr">
  For future projects, I would recommend that developers avoid reinventing the wheel – especially if all that is required is a simple content management system. Working with your staff to identify the needs of a project and finding the simplest solution helps to ensure that things will work long after the developer of that project is gone or is too busy to help. And in most cases, one database is plenty.


<h2 dir="ltr">
  … But plan for the worst
</h2>

<p dir="ltr">
  A constant pain point was that the architecture of Labs’ software used individual, huge servers that hosted critical pieces of infrastructure shared by all applications, with almost no redundancy. This meant that when the only DNS server or database server went down, most of our applications all failed immediately. This happened several times over the few months while we were shutting down Labs.  This also meant that servers were consistently under-utilized while being incredibly expensive – the monthly AWS bill was over $6,000 per month!


<p dir="ltr">
  A little bit of extra redundancy can go a long way. Moreover, designing your architecture with small “atomic” pieces can reduce shared dependencies and provide greater stability. This is usually cheaper than running huge servers as well. Running one application per server is a good rule of thumb for smaller tools, and you can always split out services (databases, task runners, etc) as your needs grow.


<p dir="ltr">
  As a quick aside – over the years, the number of servers I’ve seen fail due to logs filling a hard drive is astonishing. Spend the time to learn how to use tools like <a href="http://www.linuxcommand.org/man_pages/logrotate8.html">logrotate</a> and set up your servers so that something simple doesn’t take down your application.


<h2 dir="ltr">
  The final steps
</h2>

<p dir="ltr">
  When the time came to shut things down and transfer content, we had the help of many partners. Most notably, the <a href="https://archive.org/">Internet Archive</a> was incredibly helpful in scraping all of our content from a list of sites we provided. Their fantastic <a href="https://archive.org/details/301works&amp;tab=about">301Works project</a> took our our in-house url shortener domain name and a spreadsheet of our links, to preserve those forever so we were able to shut it down entirely (see above about not reinventing the wheel).


<p dir="ltr">
  One thing that made the transfer process much, much easier was services such as Heroku and Namecheap which allow you to easily transfer a property to a new owner. For both of these, you simply need to provide a username and the transferee needs only to accept – it’s a very straightforward process. GitHub proved to be more complicated, as we first had to add the new owner as an admin of the repositories and then have them manually move the repositories to the new Organization owner – this took a while with so many repositories moving over.


<p dir="ltr">
  Amazon was the most difficult piece, as we had to create AMIs of our EC2 instances (a very slow process with the aforementioned huge servers) and then grant access (by account number) to the new owners. I was never able to grant access to an S3 bucket to a separate account – whether the documentation is out of date or there was a system bug, I’ll never know –   for most of these I just made the content public wherever possible and sent out links.


<h2 dir="ltr">
  Wrapping up
</h2>

<p dir="ltr">
  We should always hope that our projects don’t suddenly come to an end without warning.  But we also must plan for the future as it our work may stop tomorrow. Taking steps up early in a project can help to make sure your work lasts beyond the length of your involvement, and that it can be used by as many people as possible. Make sure you invest the time now, so that you won’t need to later.


          
          </p>
          <p>
            <a href="/blog/2016/11/23/lessons-from-the-sunset-of-sunlight-labs/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    

      
      

      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2016/10/15/documentation/"up-follow>Transparency Camp Talk: Documentation</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2016.10.15
            </span> –
          
            Here are my slides from my 2016 Transparency Camp <a href="https://krusynth.github.io/slides/documentation/">talk on Documentation</a> – or, “Write Stuff Down and Share It”.<!--more-->

<a href="/uploads/2016/10/Documentation.pdf">Documentation.pdf</a>


          
          </p>
          <p>
            <a href="/blog/2016/10/15/documentation/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    

      
      

      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2016/09/27/the-end-of-the-second-act-of-civic-tech/"up-follow>The End of the Second Act of Civic Tech</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2016.09.27
            </span> –
          
            <p class="banner"><strong>Disclaimers:</strong>

<p class="banner"><strong>1. This article contains broad generalizations, and is intended to get some new conversations started. There exists much anecdotal evidence contrary to many of the points below. I’ve also attempted to use “we” below frequently, as I have fallen into many of these same pitfalls as anyone else! Many of the ideas and suggestions below are not new, and are definitely not my own. I’m hoping this leads to more long-form pieces on many of these topics.</strong>

<p class="banner"><strong>2. At the time of writing, I was an advisor at The Sunlight Foundation, previously was Lead Developer at The OpenGov Foundation working on Madison, and for years was a core contributor to The State Decoded. My opinions were/are my own, as are my biases from this experience.</strong>

The world of civic tech has changed radically in the last few years. Many of the old bastions of transparency and civic innovation have started to crumble, shrinking dramatically in both size and scope. It’s clear that the future of civic tech will appear radically different – moving out from under the umbrellas of sprawling nonprofit organizations and back into smaller, focused efforts.

Below, I discuss what we’re currently seeing today, and what will need to be done in the future for us to continue our work effectively.

<p class="banner">For my purposes here, “civic tech” (as well as “us” or “we”) broadly includes the many organizations working on transparency, open data, and/or services that impact government, in the intersection between policy and technology development. Many of these are nonprofits, as we discuss below, but there are for-profits that are being impacted by the changes discussed here. This term also includes the many independent projects, people, and groups working on these problems to improve government. Groups within government working on these efforts could be included, but they have largely been sheltered from the effects I’m talking about below.

<p class="banner">I’m also largely talking about the United States, though many of these topics apply to international groups.

<a href="https://medium.com/@joshuatauberer/civic-techs-act-iii-is-beginning-4df5d1720468#.876qkg769">Josh Tauberer provides us a good definition of the first and second “acts” of civic tech</a>, which I am reusing here.

(If you don’t want the history lesson, just jump down to <a href="#what-you-can-do">What You Can Do</a> at the bottom of this article.)

<h2 id="the-end-of-the-second-act">The End of the Second Act</h2>

On September 20th, <a href="http://sunlightfoundation.com/blog/2016/09/20/statement-from-sunlight-foundations-board-chairman/">Sunlight Foundation announced that it is officially closing down Sunlight Labs, downsizing, and considering how best to further its mission through potentially merging with another organization</a>, leaving the future of dozens of technology projects uncertain. This follows on the heels of OpenGov Foundation discontinuing most of its work on America Decoded, its open-law project <a href="http://baltimorecode.org/">[1]</a> <a href="http://administrative.sanfranciscocode.org/browse/">[2]</a> <a href="http://www.marylandcode.org/">[3]</a>, and <a href="https://medium.com/code-for-america/an-open-letter-to-the-code-for-america-brigades-2949c2efec28#.rokslc2hf">Code for America ceasing direct funding of its Brigades</a> after previously having shut down <a href="http://archive.codeforamerica.org/companies/incubator-accelerator/">its technology incubator program</a>.

The major funders of many of these and other organizations in the space have also been <a href="https://www.fordfoundation.org/ideas/equals-change-blog/posts/whats-next-for-the-ford-foundation/">changing how they’ve been funding</a>. Frustration with projects that are not completed on time and within grant budgets have created an apparent wariness in funding opportunities from many. Some others simply no longer wish to fund transparency efforts, especially at the federal level, believing that transparency is no longer an achievable –
or even good
– goal. <a href="http://www.vox.com/2016/9/6/12732252/against-transparency"><a href="https://medium.com/@joshuatauberer/civic-techs-act-iii-is-beginning-4df5d1720468#.876qkg769">1</a></a> <a href="http://www.theatlantic.com/magazine/archive/2016/07/how-american-politics-went-insane/485570/"><a href="http://sunlightfoundation.com/blog/2016/09/20/statement-from-sunlight-foundations-board-chairman/">2</a></a> Government, at all levels from city to federal, has also stepped up significantly in recent years, hiring more and more technologists in-house to solve problems from the inside, seemingly bypassing the need for civic tech entirely; of course, many of these hires came from the civic tech world outside of government.

The days of million-dollar checks for “new” or “cool” ideas are effectively over. In some cases, the criteria these funders have chosen for evaluation of projects’ success – such as the number of “likes” an organization has on Facebook or Twitter – seem woefully out-of-touch with the work of advocacy organizations. Moreover, the funding cycles of these organizations are relatively short – a year or two at most – while it may take five or ten years at least to have the long-lasting impact many nonprofits aim for. This all has contributed to a lack of a clear path for relevant goals and sustainability for many organizations –
and even small projects.

But the mere merit of having a project labeled “civic tech” simply isn’t enough to justify piles of cash and free reign to use it. If anything, the failure of much of the civic tech movement can be attributed to a strong lack of experience, oversight, and planning. The larger nonprofit world, especially on the service and advocacy side of things, has been using <a href="https://en.wikipedia.org/wiki/Logic_model">logic models for program evaluation</a> for decades –
but this work has gone largely ignored in the civic tech community. Even within the few for-profits that have emerged, impact analysis frequently takes a back seat to promotion.

Instead, most projects are started without clear goals, realistic evaluation criteria, or even a firm concept of real impact. “Let’s put some things online” is, in many cases, as sophisticated a model as many projects ever reach; the actual people being served are an afterthought at best most of the time. Publishing tools and data for their own sake is a fine goal, especially those that support journalistic, educational, and research pursuits – all of which are critical to transparency efforts. But we should also stop to consider if our tools will help those who need them most, or if they merely will help the privileged, educated, and well-off – especially for those that are intended to impact equity and access.

Is more transparency having the impact on people’s lives that we want it to? Are we really engaging with the people and improving policy or are we merely talking to our friends? How do we know we’re making things better for everyone, working towards equity and not just paying lip service?
Simply put, we cannot know if we don’t talk to the people directly, and if we don’t have a way to study our impact.

There are some <a href="http://www.smartchicagocollaborative.org/">fantastic organizations</a> following through, meeting people where they are – in churches, schools, libraries – but these are few and far between. A few more enthusiastic people with backgrounds in social work and degrees in nonprofit management would be hugely beneficial in our space.
At the very least, more time spent on outreach would improve just about every project.

Similarly, the technical limitations of many project teams hamper their long term success. The “anybody can do this!” attitude which pervades the civic tech community, while extremely democratic and empowering and wonderful for making the tent bigger, often results in many projects that are under-designed and lack foresight into technical sustainability. Meanwhile, just as many of our projects are the products of more experienced developers wanting to try out new, trending technologies – leading to us over-engineering solutions for niche problems written with ephemeral technologies. In both cases, any likelihood of reusability or sustainability is dramatically reduced by poor planning and decision-making.

Many problems being solved today by custom applications could just as easily be solved with a git repository, or WordPress site, or even just a spreadsheet on Google Drive. There are many fine projects that do not fall into these categories, but they’re few and far between. And there is an insanely huge amount of reinventing the wheel in our space, <a href="https://www.mysociety.org/tag/poplus/">despite efforts to the contrary</a>. As developers, we must escape our own hubris to find the most simple solutions whenever possible, if our projects are to thrive. Engineering is hard; we don’t need to make it harder.

We have largely forgotten that the purpose of all of this technology is not technology itself, but rather culture change. <a href="http://longnow.org/essays/taking-long-view/">Culture changes much slower than fashion</a>, which is (sadly) our most common unit of time-measurement these days. It takes years to build the relationships necessary to change culture. But this is the work <a href="http://www.buildwith.org/406-2/"><a href="https://medium.com/@joshuatauberer/civic-techs-act-iii-is-beginning-4df5d1720468#.876qkg769">1</a></a> <a href="http://www.buildwith.org/"><a href="http://sunlightfoundation.com/blog/2016/09/20/statement-from-sunlight-foundations-board-chairman/">2</a></a>. It’s very attractive to work in silos, programming without doing the hard part of talking to people, but this isn’t a good way to change the world.

This is not to say that there is not a value in a proof-of-concept. For many of the changes that the civic tech world would like to see in government or society, simply proving that it can be done is a very powerful tool. But tools should generally solve an immediate need for real people, not imagined “users”. And at the very least they should be used to start conversations, not to spin off new product companies. (There are certainly <a href="https://medium.com/@joshuatauberer/why-we-hack-db430cb1aee0#.vok3ejoir">other very good and valid reasons to hack as well</a>.)
After you’ve done the work though, definitely consider finding ways to be paid for it – without money, nothing is sustainable. And though civic tech will always rely on volunteerism, it should not simply become a form of government <a href="http://www.nospec.com/">spec work</a>.

But <a href="https://usopendata.org/2016/06/16/sunset/">not everything needs to last forever</a>. In many, if not most, cases, all projects should have a firm timeline, with waypoints for evaluation, and a date to cease operation. Having ways to measure real success and failure in terms of impact, with a real schedule, is absolutely critical for projects. Trying to make something last forever that was only designed to last a few months –
or simply not working – is a fool’s errand. Meanwhile, finding funding for a short-term project is vastly easier than one that will run indefinitely without clear goals.

It is important to note that there have been some incredible successes during the first and second acts of civic tech. The passing of <a href="http://www.datacoalition.org/issues/data-act/">the DATA Act</a> though a bipartisan effort and countless hours of work from <a href="http://sunlightfoundation.com/clearspending/data-act/">The Sunlight Foundation</a> and other groups was a huge milestone towards openness and transparency. <a href="https://public.resource.org/">Carl Malamud’s tireless work</a> has led to the opening of the SEC EDGAR database, <a href="https://www.philanthropy.com/article/IRS-Unleashes-Flood-of/236822/">the IRS’ Form 990 data</a>, and much more. And most recently, the hundreds of civic technologists from Sunlight, the brigades, and elsewhere that have gone to work for government agencies have brought their passion to new innovation inside of government. <a href="https://beta.fec.gov/"><a href="https://medium.com/@joshuatauberer/civic-techs-act-iii-is-beginning-4df5d1720468#.876qkg769">1</a></a> <a href="https://openbeta.usaspending.gov/index.html#active"><a href="http://sunlightfoundation.com/blog/2016/09/20/statement-from-sunlight-foundations-board-chairman/">2</a></a>

<h2 id="setting-the-stage-for-the-third-act">Setting the Stage for The Third Act</h2>

The future of civic tech, given all of this, is very uncertain. Local <a href="https://www.codeforamerica.org/join-us/volunteer-with-us/list-of-all-brigades">brigades</a> and <a href="http://congressionaldata.org/">volunteer groups</a> have become in many ways the core of the movement. These groups have increasingly been working with government directly to introduce new tools and <a href="http://drafts.wichita.gov/docs/draft-open-data-policy">policies</a> to increase transparency and equity. These spaces will continue to foster new ideas for their communities, and provide a ready source of civic-knowledgeable technologists for government and nonprofits – this is critical for supporting the infrastructure of transparency. And rather than being fueled by grant funding, this work is largely due to the passion of thousands of volunteers all over the country (and world!)

However it’s also, in part, due to contributions from the private sector. In the same way that for-profit companies have sustained the open source movement for decades, so too are they stepping up to support the civic tech movement. Some companies provide direct financial support to brigades and community groups – paying for food and event spaces. Moreover, companies like <a href="http://www.esri.com/">Esri</a> and <a href="https://www.govdelivery.com/">GovDelivery</a> are using open data, open source, civic tech as central parts of their platforms. This will only continue to grow as other funding sources become increasingly scarce and the interest in open data and transparency expands.

Government is also changing to become more [civic] tech-savvy. The work of government units
such as <a href="https://18f.gsa.gov/">18F in the General Services Administration</a> and the <a href="https://www.usds.gov/">U.S. Digital Services in the White House</a> have impacted the Federal government in substantial ways <a href="https://18f.gsa.gov/tags/procurement/"><a href="https://medium.com/@joshuatauberer/civic-techs-act-iii-is-beginning-4df5d1720468#.876qkg769">1</a></a> <a href="https://18f.gsa.gov/2014/11/13/why-we-use-https-in-every-gov-website-we-make/"><a href="http://sunlightfoundation.com/blog/2016/09/20/statement-from-sunlight-foundations-board-chairman/">2</a></a> <a href="https://18f.gsa.gov/2015/07/08/openfec-api/"><a href="http://baltimorecode.org/">3</a></a>. But moreover, this has created new enthusiasm in cities and states – causing an unprecedented rise in new CTO and CDO positions all over the country, and policies reflecting the <a href="http://opendatapoliciesdecoded.sunlightfoundation.com/">changing landscape of data needs</a>. (As an aside, it’s noteworthy that many of these positions are being filled by former GIS data team members, a field where open data and civic tech has particularly long and deep roots!) Tools and data are more and more often <a href="https://github.com/DCCouncil/dc-law">being produced in-house</a> rather than outsourced.

Another place I would love to see civic tech find a home outside of government is within libraries. I must say that this is idealistic, at best. In many places, libraries have become – and really, have always been – a bastion of innovation and civic focus <a href="http://lil.law.harvard.edu/projects/caselaw-access-project"><a href="https://medium.com/@joshuatauberer/civic-techs-act-iii-is-beginning-4df5d1720468#.876qkg769">1</a></a> <a href="http://chattlibrary.org/4th-floor"><a href="http://sunlightfoundation.com/blog/2016/09/20/statement-from-sunlight-foundations-board-chairman/">2</a></a> <a href="https://medium.com/@danielschuman/a-rough-guide-for-librarians-on-opengov-42108199a4e4#.ibo8ydmbn"><a href="http://baltimorecode.org/">3</a></a>. It’s a very natural fit for both parties, and – most importantly – the people being served are physically present! There’s no way to avoid doing the work of meeting people where they are if you start where they are. Increasing investment in civic technology from libraries would be a huge boon.

<h2 id="what-you-can-do">What You Can Do</h2>

<h3 id="civic-organizations-project-owners-and-dreamers">Civic Organizations, Project Owners, and Dreamers</h3>

For any new projects just starting out, or years along their path, I would strongly recommend answering a few key questions before spending another minute on your work. You may have done many of these already, but writing them down and posting them publicly is to everyone’s benefit. They also provide a solid starting point to have an honest conversation with funders.

<ul>
  <li>Identify your outcomes – what do you really want to change as a result of your project.</li>
  <li>Evaluate your impact – what measurements will you use to judge that your work is causing the outcomes you intend?</li>
  <li>Who is the audience? Where are they? How can you meet them where they are? Be specific, think about who is in need.</li>
  <li>Talk to your audience – what do they think they need, and how well does your idea match up?</li>
  <li>How long will the project run? What are the milestone for evaluation along the way? Set dates to evaluate your actions.</li>
  <li>What is the real level of effort and cost for your project? Be realistic, think about the hours needed, not just to write code, but go to meetings, do user testing, and everything else.</li>
  <li>How can you use the work of others to help you with your work? What tools, data, and research already exists in your problem space? Who else is already actively trying to solve this problem, and how can you work with them?</li>
  <li>How can you make your work reproducible? What can you put online and publish for other people to be able to make an impact using what you’ve learned? How will you license your work so others can use it? <a href="https://www.authorea.com/users/3/articles/3410/_show_article"><a href="https://medium.com/@joshuatauberer/civic-techs-act-iii-is-beginning-4df5d1720468#.876qkg769">1</a></a> <a href="https://opensource.org/licenses"><a href="http://sunlightfoundation.com/blog/2016/09/20/statement-from-sunlight-foundations-board-chairman/">2</a></a> <a href="https://creativecommons.org/licenses/"><a href="http://baltimorecode.org/">3</a></a></li>
</ul>

Just to reiterate that last item – civic tech works best when we collaborate. Collaboration works best if we embrace radical transparency, to share all of our research, methodology, and findings with the world. Even our failures can become victories if it helps someone else to do things better the next time. And this is true in the for-profit world as well! A single vendor in a space will struggle, but fostering an ecosystem will drive more interest, demand, and need. Open data and open source help make more open data and open source!

<h3 id="board-members-founders-and-executive-directors">Board Members, Founders, and Executive Directors</h3>

<strong>Listen to your team.</strong> They’re there because they believe in what you’re doing!
For an organization to grow and thrive, it must continue to change and evolve –
while still staying true to its principles. Stop and look at the shape your organization is taking, you may find that it has outgrown your old vision and become something radical and new –
and that’s ok! Don’t get stuck on one idea, be flexible.

<strong>Listen to your team.</strong> You can’t do everything, find people that you trust and let them do what they’re good at. When they give you advice, take it. If most of your advisors are telling you one thing and you believe another, it’s probably time to step out of the way and let them do their jobs.

<h3 id="government-officials-at-all-levels">Government Officials at All Levels</h3>

If you’re a government official, you’re probably already aware of what you must do. First, make sure you understand the open data and policy push that’s happening today. And then, get excited about it – find a local civic tech group or brigade and chat with them about your job, and hear how passionate they are! If you put a problem in front of a technologist, no matter how big or small, we will immediately start coming up with ways of solving it – that’s where our passion comes from. Get excited with us. Some of <a href="https://esq.io/pages/about.html">the most passionate people I know</a> in the civic tech movement started in government, not as technologists!

Second, start viewing your job through a lens of transparency. Ask yourself, in everything that you do, how can I expose this work? How can I share with the community the problems and solutions I encounter? What data can I share with the world – whether I personally find it interesting or not? How can I work with other departments to improve communication and share knowledge outside of my silo? Try to find an issue, something that you can push on and make more transparent, and follow through with it from start to finish. And make sure to tell the community about it! No matter how mundane, we love this stuff.

<h3 id="funders-and-charitable-givers">Funders and Charitable Givers</h3>

If you happen to be a funder of nonprofit projects and organizations, first and foremost I ask you to renew your faith in the transparency and civic technology movement. We still have a lot of work left to do! And government can’t do it alone, small non-profits can’t do it alone. Innovation must be fostered from a variety of sources. And please keep in mind that this process takes a very long time! One- and two- year cycles are only long enough for a proof of concept, not nearly enough to effect real change.
Organizations desperately need funding for general support in addition to individual projects – the day-to-day stuff like meetings, promotion, calls, and outreach are all just as important to running an organization as the fancy new releases.

However, I encourage you to hold projects accountable to the criteria for organizations and projects listed above! There are real-world metrics of impact that can effectively track the progress of our projects, make sure you know what these are and so that we can better judge efficacy of programs. Hint: it’s not likes on social media – find real, meaningful ways of evaluating the work.
If you’re a board member, your task above and beyond everything else is to understand real impact, and not just numbers.

And – in many ways the most important ask I have of you – be aware of your own, personal blindspots and work to expand them. There are thousands of good ideas that could improve the world today and just need someone to take a chance on them.
Just don’t get too distracted by every new and shiny thing – again, older projects still need long-term investment and growth.

<strong>It is only by working together that we can make the world a better place than we found it.</strong>


          
          </p>
          <p>
            <a href="/blog/2016/09/27/the-end-of-the-second-act-of-civic-tech/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    

      
      

      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2016/08/01/what-i-wish-i-had-known-about-decoding-the-law/"up-follow>What I Wish I Had Known About Decoding The Law</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2016.08.01
            </span> –
          
            After a little over three years of working on <a href="http://www.statedecoded.com/">The State Decoded</a> (and a bit less than that on <a href="https://mymadison.io/">Madison</a>), I’ve learned quite a few things about the law.  The process of translating legal code into machine-readable data is not an easy one, but after thousands of hours working on this problem we’ve made some solid progress in automating it.

What follows are a few lessons about the law that I wish I’d known before starting, which may help other developers to make good decisions in open law and legislation projects.

<strong>Update: In 2020, <a href="https://www.documentcloud.org/documents/6878241-Georgia-v-Public-Resource.html">the Supreme Court ruled</a> that legal codes, <em>including annotations</em>, are public domain works. The text below has been updated to strikethrough portions relevant to these changes.</strong>

<h2 id="every-place-is-the-same">Every Place is the Same</h2>

All of the legal code I’ve encountered so far is somewhat similar. The law in most places consists of many sections (denoted by the § symbol in most places), grouped together by subject area under a hierarchy of structures.  These structures are usually named things like article, chapter, title, appendix, subchapter.  Occasionally one finds things like subsection or subcode.  Sections are generally referred to by their identifier number  both in the code and by external references.

In many places, there are entirely separate codes for different legal concerns – the charter is frequently a separate body of code from the other public laws, the administrative code may be broken out, and so forth.  <a href="https://codelibrary.amlegal.com/codes/san_francisco/latest/overview">In San Francisco, the law is separated into over a dozen individual codes.</a>

Most structures and sections have some sort of short identifier – usually numeric – as well as a title.  Structures may have additional introductory or following text, or just be a list of sections.  Sections usually have a body consisting of paragraphs, sub-paragraphs, sub-sub-paragraphs, and so on – a sort of internal hierarchy.  These may be numbered with numerals, letters, or roman numerals, so be careful when parsing to determine whether i means 1 or 9.  Referring to a particular paragraph is common, so having permalinks to these is useful.

Sections may also contain tables, images, drawings, maps, and other non-textual information.  These can be used to display zoning areas, show costs over time, or explain the makeup of the city’s flag or seal.

Many structures will begin with a list of legal definitions that are used throughout the sections under that structure, occasionally these will apply to the entire legal code.  It is possible to provide inline definitions of these terms as they are defined by the law code, but you must take into account the scope given for these definitions – the scope is usually stated at the beginning of the definitions section.

<h2 id="every-place-is-different">Every Place is Different</h2>

From city to state to federal, almost every government agency and body has a different system of law.  This means that every new city or state will have a different system of naming, numbering, and structuring their laws.

One city may use hyphens to segment numbering structures – such as in Chicago (e.g. §1-8-010) – another may use periods, and some places, like San Francisco, use both (§1.13-5).  There may be numbers or numbers and letters or in the case of appendices, letters only.  Numbers may be sequential within a section, or there may be numbers missing entirely.  Sometimes numbers are sequential for the entire legal code, more often they are not.

Due to complexities in both the legislation and codification process, a legal code may change format in the middle.  For instance, in San Francisco’s Charter, Article XVI, §16.123 covers Civilian Positions with the Police Department, but all of the §16.123-* codes are for The Arts, Music, Sports, and Pre-school for Every Child Amendment of 2003.  In cases where codes are reused in whole or in part from other sources, such as building codes, the numbering may be entirely different in the middle of a structure. (We’ll come back to other problems with building codes in a minute.)

<h2 id="data-consistency--quality-issues">Data Consistency &amp; Quality Issues</h2>

In many legal codes, a section identifier may be used multiple times, especially in those codes that have multiple bodies broken out.  It’s not unusual to have two or more sections numbered §1-1 in a legal code, with the article, chapter, and/or title, etc. needed to differentiate the actual section that the number refers to. This means it’s often not possible to use a single identifier to uniquely identify a law.  With The State Decoded, to solve this we provide an option to use permalinks that reflect the full structural hierarchy.

In a few places, sections of law do not have titles (aka “catch lines”), only a numeric identifier.  Since titles are extremely useful, the legal publishers in a given place may add their own titles – but as of the time of writing this, they are able to claim copyright over these titles and not provide them as part of the open legal data itself.  <a href="https://web.archive.org/web/20161218042805/https://www.opengovfoundation.org/capturing-catching-titles-giving-readable-titles-to-marylands-legal-code/">When we encountered this in Maryland, we used Mechanical Turk to pay volunteers to create new, free, public domain titles for the entire legal code.</a>  It didn’t cost us very much money to have the nearly 32,000 titles added, and now the entire code is much more usable.

Frequently, sections of the code will be removed via legislation.  These may still appear in the published law code but labelled Removed, sometimes with a short explanation.  In some cases, particular numbered sections may be listed as Reserved, where the legislative body intends to put new code in the future but hasn’t done so yet.  The effect of this is that structures may end up having no actual sections, such as <a href="http://library.amlegal.com/nxt/gateway.dll/California/publicworks/article2publiccontractprocedure?f=templates$fn=default.htm$3.0$vid=amlegal:sanfrancisco_ca$anc=JD_Article2">this one in San Francisco</a>.

Update: <a href="https://twitter.com/harlanyu/status/762649137057767425">Harlan Yu points out</a>, “Another fun example: 26 USC 401(e) &amp; (j) were repealed but subsections not renumbered b/c everyone refers to 401(k).”

Since legal terms and section numbers will appear repeatedly throughout a section, this can wreak havoc on weighted-term search engines, such as Solr/Elasticsearch/Lucene, which end up miscalculating averages.  This is especially problematic if you’re storing multiple historical versions of the law code (more on this below).

<h2 id="copyright-and-the-law">Copyright and The Law</h2>

<del>Although in general the law is considered to be public domain – freely usable by anyone, without cost or restriction – there are ongoing legal battles attempting to restrain it with copyright and usage agreements.  If you want to avoid costly legal fees, it’s safest to make sure you have the official blessing of the place whose law you’re republishing before attempting to do so.  <a href="http://www.latimes.com/business/hiltzik/la-fi-mh-state-of-georgia-copyright-wall-20150727-column.html">Georgia recently sued Carl Malamud for republishing their laws.</a></del>

Furthermore, many places cannot afford (or choose not to spend the money) to have all of their laws written from scratch.  Most notably, building codes are routinely re-used from the  International Code Council’s (a.k.a. ICC) publications, which are protected by copyright.  <a href="https://www.law.cornell.edu/copyright/cases/293_F3d_791.htm">Although the 5th Circuit court has ruled that these codes included as part of the law are not protected</a>, many places would rather not involve themselves in legal battles, and will not publish their own building codes!

They may also take an alternate route, and simply make references to other building codes instead of including these texts directly – commonly called incorporation by reference.  San Francisco makes reference to California’s building codes, which itself uses the ICC’s codes.

<del>Furthermore, many legal publishers have added additional commentary and annotations to the existing law codes.  Since this supplementary information is not part of the actual legal code itself, it is not in the public domain, and they are under no obligation to provide it to anyone. In fact, many companies exist primarily to sell access to this data.</del>

Update: <a href="https://twitter.com/kristinhodgins/status/762738387048542208">Kristin Hodgins says that</a> Canada is similar to the US in most of these, except copyright: <em>“Unlike in the US, s 12 of Canada’s Copyright Act provides for crown copyright, which applies to all govt publications. Some Cdn jurisdictions provide licence to freely reproduce legislation.”</em>

<h2 id="the-law-changes-over-time">The Law Changes Over Time</h2>

As with most things, the law is constantly growing and changing. Converting the law into a digital format is not a one-time event – it is an ongoing process that requires time and effort.  Some places update their legal code every week or two, some only once or twice a year.

This is often because the process of codifying the law is usually separate from the legislative process.  In most places, a body of elected officials will vote on bills to determine changes to the law, but the bills do not always say exactly how the new law precisely will read.  This means that someone else will have to interpret the bill to create a new wording.  This may then be handed off to yet another group – frequently an outside vendor – to actually incorporate into the law, with numbering, etc.

All of this means that digitizing the law once is not enough to stay current and relevant, it must be updated as often as the official code is.  You probably also will want to keep multiple versions of the code over time, to be able to show what the law was at any point in history.

<h2 id="the-law-as-written-is-not-always-the-law">The Law as Written Is Not Always The Law</h2>

The nature of our democracy in the United States allows for judicial review, which can overturn or interpret particular aspects of the law.  This means that even if you have the official text of the code of law, you might not know the actual law or how it is applied.  To determine the full law, you must refer to other sources.

With The State Decoded, for states we are able to include opinions and cases via <a href="https://www.courtlistener.com/">Court Listener</a>’s API.  However, we don’t have a reliable way of showing these for cities.  And decisions in courts can frequently impact potential future decisions in other courts on similar topics, even if they’re not covering the same jurisdiction.

Pending legislation may also change the law in the future, and that’s a good thing for people to know about – as the law as written today may change tomorrow.  A bill that’s already been enacted may not take effect until a particular date in the future.

<h2 id="the-law-does-not-mean-the-same-thing-in-different-places">The Law Does Not Mean The Same Thing in Different Places</h2>

Since the definitions of particular terms are specific to a given place – or even a specific section of code for a particular place – these terms are not universal, which makes it hard to compare laws directly.  In one city, a month may be 30 days, or 31, or specific to a given reference for a month.

Update: <a href="https://twitter.com/konklone">Eric Mill</a> and <a href="https://twitter.com/jacobian">Jacob Kaplan-Moss</a> pointed out that some legislative bodies have an even stranger interpretation of time. In cases where a law or mandate requires the legislature to perform an action by a given date, but they can’t complete the action in that time, they will extend that day <strong>legally</strong> past 24 hours. As a result, you may see a motion in legislative data along the lines of <code class="language-plaintext highlighter-rouge">for the purposes of this legislative session, July 31st has 250 hours.</code> This can play havoc with processing the data, as you may see timestamps such as <code class="language-plaintext highlighter-rouge">July 31 107:24</code> which will have to be saved in some non-native-date format.  The U.S. Congress uses something similar called a <a href="https://www.senate.gov/reference/glossary_term/legislative_day.htm">“legislative day”</a> which continues until the body adjourns next - which may be days or <strong>months</strong> later!

There have been some attempts at creating an ontology of law to provide a way of universally comparing similar ideas.  However, since the law is written in Word or WordPerfect in most places, this metadata has to be added downstream, and is not easily automated.

<h2 id="standards-formats-and-standard-formats">Standards, Formats, and Standard Formats</h2>

Standards in data are critical for making tools interoperable.  It’s important to use existing standards whenever possible to make sure that in the future everyone’s tools will be able to talk to each other and share data.  Whenever possible, you should try to leverage popular existing standards for your data interfaces, and should almost never invent your own!

When work began on The State Decoded, there were no obvious standard formats for legal code.  <a href="https://web.archive.org/web/20170504123904/https://opengovfoundation.org/setting-the-standards-for-open-government-data/">I wrote in more detail about standards for the law a few years back.</a>  Since that time, <a href="http://www.akomantoso.org/">Akoma Ntoso</a> has become the most popular standard format to distribute legal code internationally.  It’s an XML schema which provides everything you need to break up the law into usable data.  A similar format, USLM, is used by the US House of Representatives and we used to focus on that for compatability.  However, USLM lacks the flexibility of Akoma Ntoso for different types of documents, and A.N. has become much simpler to implement.  It also allows for additional microformats within the data, which helps with the ontology problem.

In general, you’ll need a way to store highly structured data to properly represent the law.  XML is ideal because it can handle the nesting and inline markup associated with legal code.  JSON is not a good choice, since it’s designed for strict hierarchical structures and is awful at inline markup.

For database storage, many groups use eXistdb, which stores XML documents natively – however, since both <a href="http://dev.mysql.com/doc/refman/5.7/en/xml-functions.html">MySQL</a> and <a href="https://www.postgresql.org/docs/9.2/static/functions-xml.html">PostgreSQL</a> now have native support for XML and XPath similar to eXistdb, they are fantastic choices for this.  I strongly recommend breaking up the law code into sections for each record, rather than keeping structures together or breaking things into paragraphs, as this makes it much easier to work with the data.

<h2 id="and-thats-just-to-start">And that’s just to start</h2>

There will undoubtedly be more issues that come up that I haven’t run into yet, but above are a lot of the ones I’ve run into over the last three years.  If you encounter others or know something I don’t, <a href="https://twitter.com/krues8dr">please get in touch and let me know</a>!

          
          </p>
          <p>
            <a href="/blog/2016/08/01/what-i-wish-i-had-known-about-decoding-the-law/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    

      
      

      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2015/05/10/managing-data-with-unix-tools/"up-follow>Managing Data with Unix Tools</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2015.05.11
            </span> –
          
            Most Unix systems (including OS X) provide a large number of fantastic tools for manipulating data right out of the box.  If you have been writing small Python/Ruby/Node scripts to perform transformations or just to manage your data, you’ll probably find that there are already tools written to do what you want.

Let me start with the conclusion first. <strong>The next time you have to transform or manipulate your data, look around for what Unix tools already exist first.</strong>  It might take you a little longer to figure out all of the flags and parameters you need, and you’ll have to dig through some unfriendly documentation, but you’ll have a new, far more flexible tool in your toolbox the next time around.

This is part 3 of a series on Unix tools. <!--more-->Read the other parts:

<ol>
  <li><a href="http://krues8dr.com/blog/2015/05/10/bash-basics/">Bash Basics</a></li>
  <li><a href="http://krues8dr.com/blog/2015/05/10/unix-tools/">Unix Tools</a></li>
  <li><a href="http://krues8dr.com/blog/2015/05/10/managing-data-with-unix-tools/">Managing Data with Unix Tools</a></li>
</ol>

<h3 id="awk-a-tool-for-spreadsheets--logs"><code class="language-plaintext highlighter-rouge">awk</code>, a tool for spreadsheets &amp; logs</h3>

<code class="language-plaintext highlighter-rouge">awk</code> is a tool to work with spreadsheets, logs, and other column-based data. Given some <a href="https://gist.githubusercontent.com/krues8dr/cf68b573542ad905099e/raw/ed50cdd69f3a1c307da4360c1af6153821e905d2/data.csv">generic CSV data</a>, we can manipulate the columns to get what we want out. For instance, if we want to remove some of the personally identifying information, we can drop the name and relationship columns:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>awk -F ',' 'BEGIN { OFS=","} {print $2,$4,$5}' data.csv
&gt; Returns the columns Age,Job,Favorite Thing from the csv.
</code></pre></div></div>

Here, we’re telling awk that the input column separator is <code class="language-plaintext highlighter-rouge">,</code> with the <code class="language-plaintext highlighter-rouge">-F</code> flag, and we’re also telling it to use a comma to separate the output in the actual expression with <code class="language-plaintext highlighter-rouge">{ OFS=","}</code>. Then we’re telling it to only output columns 2, 4, and 5 (<code class="language-plaintext highlighter-rouge">{print $2,$4,$5}</code>).

We can also use it to parse log files. Given a standard Apache combined log, we can get a list of all IP addresses easily:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>awk '{print $1}' access_log
</code></pre></div></div>

And then we can pass that through the <code class="language-plaintext highlighter-rouge">sort</code> utility to put them in order, and the <code class="language-plaintext highlighter-rouge">uniq</code> utility to remove duplicates (with <code class="language-plaintext highlighter-rouge">-u</code> for unique) or even get a count of how many times each visitor has hit our site (with <code class="language-plaintext highlighter-rouge">-c</code> for count).

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>awk '{print $1}' ./access.log | sort | uniq -c
&gt; Outputs each IP address with a count of how many visits.
</code></pre></div></div>

You can do a whole lot more with awk too, including <a href="http://www.shellhacks.com/en/Printing-Specific-Columns-Fields-in-Bash-using-AWK">scripting inside the expression</a>.

<h3 id="filtering-and-analysis-with-grep-and-sed">Filtering and Analysis with <code class="language-plaintext highlighter-rouge">grep</code> and <code class="language-plaintext highlighter-rouge">sed</code></h3>

If you’re using more sophisticated tools like <a href="http://goaccess.io/">goaccess</a> to analyze your logs, you can preprocess the logs with the tools we’ve covered in the previous articles in this series, <a href="http://krues8dr.com/blog/2015/05/10/bash-basics/">Bash Basics</a>, <a href="http://krues8dr.com/blog/2015/05/10/unix-tools/">Unix Tools</a>. To just get a couple of days from the logs:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sed -n '/04\/May\/2015/,/06\/May\/2015/ p'  /var/log/httpd/access.log | goaccess -a
&gt; Passes log entries for May 4th and 5th only to goaccess
</code></pre></div></div>

Or if you need to process multiple log files:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cat /var/log/httpd/*-access.log | grep "04\/May\/2015" | goaccess -a
&gt; Parses only log rows that have the 4th of May in them, from all of our Apache log files.
</code></pre></div></div>

&lt;/code&gt;

<h3 id="parsing-files-with-bash">Parsing Files with Bash</h3>

Going back to our initial post, you can actually do a lot with just bash alone. We can even use <code class="language-plaintext highlighter-rouge">for</code> loops to iterate over spreadsheets, instead of sed or awk. I sent <a href="https://github.com/krues8dr/gitter/blob/8171a77c6ea9404dd05968774fb20460547c5bbe/gitter.sh">a pull request</a> the other day to remove a python script that fed into a bash script, so the bash script would do all the work. The original is designed to take a spreadsheet, and for each row it pulls the listed git repo and zips it up.

Here’s the updated script. Keep in mind that though this is a bash script, this could also be run directly from the command line.

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#!/bin/bash
INPUT=respondents.csv
[ ! -f $INPUT ] &amp;&amp; { echo "$INPUT file not found"; exit 99; }

(tail -n +2 $INPUT ; echo )| while IFS=, read RESPONDENT REPOSITORY
do
	echo "Fetching $REPOSITORY"
	REPO="$(basename $REPOSITORY)"

	REPONAME="${REPO%.git}"

	git clone $REPOSITORY &amp;&amp; tar -czf responses/$RESPONDENT.tar.gz $REPONAME &amp;&amp; rm -rf $REPONAME
done
</code></pre></div></div>

Let’s go through this a piece at a time:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>INPUT=respondents.csv
[ ! -f $INPUT ] &amp;&amp; { echo "$INPUT file not found"; exit 99; }
</code></pre></div></div>

First, we hard code our input file, and if that file doesn’t exist in the current directory, we exit with an error code.

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tail -n +2 $INPUT
</code></pre></div></div>

We take the input file and skip the first line using <code class="language-plaintext highlighter-rouge">tail</code> by passing it <code class="language-plaintext highlighter-rouge">-n +2</code>, so that we don’t try to process the headers. The results of that might not have a trailing newline, but we need one for bash to process the last line in the file. We append an extra <code class="language-plaintext highlighter-rouge">echo</code> to output a blank newline. We then pipe this to <code class="language-plaintext highlighter-rouge">while</code>, which reads in the results of this operation.

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>while IFS=, read RESPONDENT REPOSITORY
</code></pre></div></div>

Now we loop over each line of the file, and use <code class="language-plaintext highlighter-rouge">IFS</code> to tell the parser to use <code class="language-plaintext highlighter-rouge">,</code> as the column separator. <code class="language-plaintext highlighter-rouge">read</code> here takes the two columns and puts them into the next two variables, <code class="language-plaintext highlighter-rouge">RESPONDENT</code> and <code class="language-plaintext highlighter-rouge">REPOSITORY</code>.

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>REPO="$(basename $REPOSITORY)"
REPONAME="${REPO%.git}"
</code></pre></div></div>

Here’re we’re doing some string manipulation, using <code class="language-plaintext highlighter-rouge">basename</code> to get just the name of the repo from the full repo path, and <code class="language-plaintext highlighter-rouge">${REPO%.git}</code> drops the <code class="language-plaintext highlighter-rouge">.git</code> from the name and stores it in <code class="language-plaintext highlighter-rouge">REPONAME</code>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone $REPOSITORY &amp;&amp; tar -czf responses/$RESPONDENT.tar.gz $REPONAME &amp;&amp; rm -rf $REPONAME
</code></pre></div></div>

Finally, we’re using all of the variables we’ve created to assemble our commands, to clone the repo, tar the results, and remove the cloned repo file.

You can do even more with bash and unix tools, hopefully this is enough to get you started working with the many tools your system comes installed with!

<a href="https://twitter.com/mheadd">Mark Headd</a> also wrote <a href="http://civic.io/2015/02/03/command-line-data-science/">a great article on command line data science</a>, and recommended this <a href="https://sysadmincasts.com/episodes/28-cli-monday-cat-grep-awk-sort-and-uniq">Sysadmin Casts episode on command line tools</a>.


          
          </p>
          <p>
            <a href="/blog/2015/05/10/managing-data-with-unix-tools/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    

      
      

      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2015/05/10/unix-tools/"up-follow>Unix Tools</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2015.05.11
            </span> –
          
            Most Unix systems (including OS X) provide a large number of fantastic tools for manipulating data right out of the box.  If you have been writing small Python/Ruby/Node scripts to perform transformations or just to manage your data, you’ll probably find that there are already tools written to do what you want.

Let me start with the conclusion first. <strong>The next time you have to transform or manipulate your data, look around for what Unix tools already exist first.</strong>  It might take you a little longer to figure out all of the flags and parameters you need, and you’ll have to dig through some unfriendly documentation, but you’ll have a new, far more flexible tool in your toolbox the next time around.

This is part 2 of a series on Unix tools. <!--more--> Read the other parts:

<ol>
  <li><a href="http://krues8dr.com/blog/2015/05/10/bash-basics/">Bash Basics</a></li>
  <li><a href="http://krues8dr.com/blog/2015/05/10/unix-tools/">Unix Tools</a></li>
  <li><a href="http://krues8dr.com/blog/2015/05/10/managing-data-with-unix-tools/">Managing Data with Unix Tools</a></li>
</ol>

<h3 id="find-a-better-ls"><code class="language-plaintext highlighter-rouge">find</code>, a better <code class="language-plaintext highlighter-rouge">ls</code></h3>

Now, savvy readers will get their hackles up over that last example, because we’re using <code class="language-plaintext highlighter-rouge">ls</code> to list our files before processing. ls is a great utility for listing files, but the results it outputs are potentially dangerous, as it doesn’t do any escaping. It’s also a rather single-purpose tool.

Instead, we can use the <code class="language-plaintext highlighter-rouge">find</code> utility in our advanced commands, which is safer. By default, `find .` will give you a <strong>recursive</strong> directory listing. Adding the `-type` flag will allow you to filter to directories or files only. (Note that this has to come after the directory path!)

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find ./test -type f
&gt; Lists all files in the ./test directory, all the way down.
find . -type d
&gt; Lists all directories in the current directory and below.
</code></pre></div></div>

That last example is a bit problematic, because find will include the current directory (<code class="language-plaintext highlighter-rouge">.</code>) in the list, which is usually undesirable. Smartly, find can also do both regular expression and simple pattern matching. To just match the name of something, using standard wildcards, use the <code class="language-plaintext highlighter-rouge">-name</code> flag; to use a regular expression, use the <code class="language-plaintext highlighter-rouge">-regex</code> flag. You can even tell it what flavor of regular expression you want to use with <code class="language-plaintext highlighter-rouge">-regextype</code> – I usually prefer <code class="language-plaintext highlighter-rouge">posix-extended</code>, myself.

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find ./temp -name "App*"
&gt; Returns all files &amp; directories from the ./temp directory down that start with "App"
find ./temp -type f -regextype posix-extended -regex '.*-[0-9]{1,6}.xml'
&gt; Find all files that end in 1 to 6 digits and have a .xml extension
</code></pre></div></div>

Now, once you have your files, you’ll probably want to manipulate them. find provides you a few different ways of manipulating the results it finds. The <code class="language-plaintext highlighter-rouge">-exec</code> flag allows you to run commands on the output:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find  ./* -type d -name "Temp*" -exec rm -R {} \;
&gt; Removes all folders that start with Temp.
</code></pre></div></div>

Note that you need that trailing <code class="language-plaintext highlighter-rouge">\;</code> to tell exec that you’re done writing your command. Although if you just want to remove some files, you can just use <code class="language-plaintext highlighter-rouge">-delete</code>:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find  ./* -type d -name "Temp*" -delete
&gt; Removes all folders that start with Temp.
</code></pre></div></div>

<h3 id="grep-the-most-important-command"><code class="language-plaintext highlighter-rouge">grep</code>, the most important command</h3>

This is just a brief break to make sure you know about <code class="language-plaintext highlighter-rouge">grep</code>. Grep searches for matching text <em>within the contents</em> of files. It’s a fantastic first-pass tool to narrow down your results. For instance, if I wanted to find all of the config files in my current directory that had port 8080 set:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>grep 8080 *
&gt; Apple.cfg:8080
</code></pre></div></div>

To make this more useful, there are a handful of flags you want to use. Most of the time, you probably want this search to be recursive, so you’ll add <code class="language-plaintext highlighter-rouge">-R</code>. You’ll also probably want to pass the output of this command to some other command to process the list, in which case the matched text that is returned after the <code class="language-plaintext highlighter-rouge">:</code> is actually a problem – so use <code class="language-plaintext highlighter-rouge">-l</code> (that’s lowercase-L) to only show the files matched, not the match text. <code class="language-plaintext highlighter-rouge">-i</code> will give you case-insensitive matches. And most importantly, <code class="language-plaintext highlighter-rouge">-e &lt;em&gt;pattern&lt;/em&gt;</code> allows you to supply a regular expression pattern to match, or <code class="language-plaintext highlighter-rouge">-E</code> uses “extended” regular expressions.

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>grep -RilE "Ap{2}.*" .
&gt; Returns all files that contain the "App" either upper or lowercase.
</code></pre></div></div>

grep can also be used as a simple filter, to return only entries that match a given pattern:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cat /var/log/httpd/*-access.log | grep "04\/May\/2015"
&gt; Returns only log rows that have the 4th of May in them, from all of our Apache log files.
</code></pre></div></div>

You can also tell grep to negative-match with <code class="language-plaintext highlighter-rouge">-v</code>, to <em>remove</em> matching entries from the results.

<em>Will points out that there’s also <code class="language-plaintext highlighter-rouge">fgrep</code>, which is faster for fixed patterns, but cannot handle regular expressions.</em>

<h3 id="xargs-the-list-handler"><code class="language-plaintext highlighter-rouge">xargs</code>, the list handler</h3>

Now, once you’ve got your files from find or grep, you’ll want to manipulate them. <code class="language-plaintext highlighter-rouge">xargs</code> has a single purpose – it takes a list of files and performs a command (or several commands) on them. Whatever command you give it, xargs will pass each file in turn to, with the filename as the input. For instance, you can output the contents of all the files in a directory:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find ./* -type f | xargs cat
</code></pre></div></div>

You can also construct more complicated commands by using the filename as a variable, which we assign with <code class="language-plaintext highlighter-rouge">-I &lt;em&gt;variable&lt;/em&gt;</code>. It’s usually best to use something uncommon so it doesn’t cause other problems – the value of <code class="language-plaintext highlighter-rouge">{}</code> is what is usually used in examples:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find ./* -type f | xargs -I {} mv {} {}.bak
&gt; Renames all files to add .bak to the end of the name
</code></pre></div></div>

xargs can also fire off these commands in parallel, so if you have multiple processors (or multicore processors), you can fork separate threads and use them. We use the <code class="language-plaintext highlighter-rouge">-P</code> flag to tell it to run processes in parallel and give it a number for how many processes to run. <a href="http://aadrake.com/command-line-tools-can-be-235x-faster-than-your-hadoop-cluster.html">Here’s an article on using xargs as a hadoop replacement.</a>

xargs is one of my most used tools, as you can construct very long and complicated commands using the output of other commands.

<h3 id="sed-the-search-and-replace-powertool"><code class="language-plaintext highlighter-rouge">sed</code>, the search-and-replace powertool</h3>

<code class="language-plaintext highlighter-rouge">sed</code> is an amazingly powerful utility – . It’s main use is to find and replace text across files. For instance, if I want to change the port of a service in a config file, I can do so easily:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sed -i '' 's/8080/8983/g' ./config.yml
</code></pre></div></div>

No need to open the file and edit it, just edit in place. You can also combine this with find to edit multiple files:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sed -i '' 's/8080/8983/g' $(find ./config/ -type f -name '*yml' )
</code></pre></div></div>

Here, we’re capturing the results of find and passing it to sed with <code class="language-plaintext highlighter-rouge">$( )</code>. You could also use <code class="language-plaintext highlighter-rouge">xargs</code> or find’s <code class="language-plaintext highlighter-rouge">-exec</code> flag as discussed above.

It can also find values in a given file. One thing I often use it for is filtering down to a particular date range in a large log file. For instance, if I just care about a few days in an Apache log file, I can tell sed to get just the rows from the start date to the end date:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sed -n '/04\/May\/2015/,/06\/May\/2015/ p'  /var/log/httpd/access.log
&gt; Returns lines from the file that start on 04/May/2015, and stops at the first instance of 06/May/2015
</code></pre></div></div>

You’d need about <a href="http://ychaouche.informatick.net/logsearch">20 lines of Python</a> to do the same thing. This is just a taste of what sed can do, it’s very useful.

<em><a href="https://twitter.com/ozzydidact">Ozzy</a> also points out that there’s <a href="http://stedolan.github.io/jq/">jq</a> which is like sed for JSON.</em>

That’s it for now, continue on to the next part, <a href="http://krues8dr.com/blog/2015/05/10/managing-data-with-unix-tools/">Manipulating Data with Unix Tools</a>.


          
          </p>
          <p>
            <a href="/blog/2015/05/10/unix-tools/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    

      
      

      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2015/05/10/bash-basics/"up-follow>Bash Basics</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2015.05.11
            </span> –
          
            Most Unix systems (including OS X) provide a large number of fantastic tools for manipulating data right out of the box.  If you have been writing small Python/Ruby/Node scripts to perform transformations or just to manage your data, you’ll probably find that there are already tools written to do what you want.

Let me start with the conclusion first. <strong>The next time you have to transform or manipulate your data, look around for what Unix tools already exist first.</strong>  It might take you a little longer to figure out all of the flags and parameters you need, and you’ll have to dig through some unfriendly documentation, but you’ll have a new, far more flexible tool in your toolbox the next time around.

Before you settle on a policy, see if you can get the one on an <a href="http://www.moneyexpert.com/car-insurance/">insurance cash back deal</a> from a comparison site.

This is part 1 of a series on Unix tools. <!--more--> Read the other parts:

<ol>
  <li><a href="http://krues8dr.com/blog/2015/05/10/bash-basics/">Bash Basics</a></li>
  <li><a href="http://krues8dr.com/blog/2015/05/10/unix-tools/">Unix Tools</a></li>
  <li><a href="http://krues8dr.com/blog/2015/05/10/managing-data-with-unix-tools/">Managing Data with Unix Tools</a></li>
</ol>

<h3 id="assumptions">Assumptions</h3>

I’ll assume you know the very basics here – what a <a href="http://en.wikipedia.org/wiki/Man_page">man page</a> is, how to create an <a href="http://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO-2.html#ss2.1">executable bash script</a>, <a href="http://cli.learncodethehardway.org/book/ex1.html">how to open a terminal window</a>, and how to use basic utilities.  If you don’t know any of those, you should start with one of the many intros to the command line available.  <a href="http://cli.learncodethehardway.org/book/">This intro by Zed Shaw is a good place to start</a>.

<h3 id="the-shell">The Shell</h3>

Bash is the default shell on most systems these days, but what we’re covering here will mostly work for zsh or other shells – though some syntax elements will be different.

First off, Bash is a powerful tool by itself. Even with no additional packages added, you get variables, loops, expansions &amp; regular expressions, and much more. Here’s <a href="http://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO.html">a good guide with more information on using bash</a>. I’ll assume you know the basics from here on out, and show you what you can do with them.

<h3 id="advanced-paths">Advanced Paths</h3>

If you want to work with several directory paths in a row that are very similar, you can pass a list to the shell using curly braces <code class="language-plaintext highlighter-rouge">{}</code> and it’ll expand that list automagically. Let’s say I wanted to setup a few directories for a new project’s test suite. Rather than running a lot of duplicated commands, I could pass a few lists instead.

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkdir -p ./test/{unit,fixtures}
&gt; Creates ./test/unit and ./test/fixtures
mkdir -p ./test/unit/{controllers,models}
&gt; Creates ./test/unit/controllers and ./test/unit/models
</code></pre></div></div>

Note that we’ve passed the <code class="language-plaintext highlighter-rouge">-p</code> flag to <code class="language-plaintext highlighter-rouge">mkdir</code> so that it’ll create all of the directories up the chain, even <code class="language-plaintext highlighter-rouge">./test</code> here.

We can also use pattern matching with brackets <code class="language-plaintext highlighter-rouge">[]</code>. For instance, if you’ve got a lot of files that you want to separate alphabetically, you use a letter pattern:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mv ./[A-H]* /Volumes/Library/A-H/
mv ./[I-O]* /Volumes/Library/I-O/
mv ./[P-Z]* /Volumes/Library/P-Z/
</code></pre></div></div>

This will have broken your library up into three sets. You can also use that matching later in the string:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mv ./A[a-k]* /Volumes/Library/Aa-Ak/
mv ./A[l-z]* /Volumes/Library/Al-Az/
</code></pre></div></div>

Now, by default most systems will be <em>case sensitive</em>, so you will have left behind all of your files starting with a lowercase letter. This is less than ideal, so we can set a flag to tell the system to be case insensitive for file matching. This type of matching is known as <em>globbing</em>, and to set this flag, we run <code class="language-plaintext highlighter-rouge">shopt -s nocaseglob</code>. (In zsh this would be <code class="language-plaintext highlighter-rouge">unsetopt CASE_GLOB</code>) If you just run that on your shell, it’ll stick on the current session until you unset it with <code class="language-plaintext highlighter-rouge">shopt -u nocaseglob</code>. You might even want to add that to your <code class="language-plaintext highlighter-rouge">.bash_profile</code>. Bash, however, also allows us to set environment variables for just the current execution, by wrapping the commands in parentheses:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(shopt -s nocaseglob ; mv ./[A-H]* /Volumes/Library/A-H/)
</code></pre></div></div>

This will only use case insensitive globbing for that single command, and then will turn the value back off.

<h3 id="loops">Loops</h3>

Bash allows you to make use of some rather powerful <code class="language-plaintext highlighter-rouge">for</code> loops. I frequently use loops to automate boring manual work, like converting a bunch of RAW image files into web-friendly JPEGs of appropriate size:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for i in *.CR2; do
    dcraw -c -a -w -v $i | convert - -resize '1000x1000' -colorspace gray $i.jpg;
done;
</code></pre></div></div>

(You could run that as a one-liner as well, the line breaks are just here to make this readable.) Here, I’m taking all of the <code class="language-plaintext highlighter-rouge">.CR2</code> files in the current directory, passing those to <code class="language-plaintext highlighter-rouge">dcraw</code> to translate the format from RAW into JPEG, then <code class="language-plaintext highlighter-rouge">&lt;a href="http://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO-4.html"&gt;piping&lt;/a&gt;</code> the output to ImageMagick, which shrinks it to web-size of no more than 1000 pixels on a side and makes everything black and white, which is extra-artsy.

I use a similar command in our legal docs repo to convert our source Markdown files into a variety of formats, using <code class="language-plaintext highlighter-rouge">pandoc</code>:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for myfile in $( ls ./markdown ); do
  echo Converting $myfile;
  for fmt in html docx pdf; do
    filetrim=${myfile%???};
    pandoc -o "./"$fmt"/"$filetrim"."$fmt -f markdown "./markdown/"$myfile;
  done;
done
</code></pre></div></div>

This one is a little fancier, as we’re doing a bunch of things with nested loops, file name trimming, etc. Let’s break it down:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for myfile in $( ls ./markdown ); do
</code></pre></div></div>

First off, grab a list of the files in the <code class="language-plaintext highlighter-rouge">./markdown</code> folder. Use the variable <code class="language-plaintext highlighter-rouge">$myfile</code> to store the current file’s name.

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for fmt in html docx pdf; do
</code></pre></div></div>

Now we’ve got a loop within a loop. We’re creating a list of the format’s we’ll be using (<code class="language-plaintext highlighter-rouge">html</code>, <code class="language-plaintext highlighter-rouge">docx</code>, and <code class="language-plaintext highlighter-rouge">pdf</code>) and storing the current format in the variable <code class="language-plaintext highlighter-rouge">$fmt</code>.

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>filetrim=${myfile%???};
</code></pre></div></div>

Here’s a useful bit – we’re trimming the <em>last three characters</em> (using <code class="language-plaintext highlighter-rouge">%???</code>) from the string, which is the extension (<code class="language-plaintext highlighter-rouge">.md</code>). Another valid pattern would be:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>filetrim=${myfile%.*};
</code></pre></div></div>

which simply removes the entire extension, regardless of how long it is.

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pandoc -o "./"$fmt"/"$filetrim"."$fmt -f markdown "./markdown/"$myfile;
</code></pre></div></div>

Here we’re passing all of our variables we’ve assembled back to pandoc. We’re quoting the strings we want hardcoded in there, so that they’re not misinterpreted as part of the variable name, which would cause this to throw errors.

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>done;
done
</code></pre></div></div>

And then we’re closing out both of our for loops.

<h3 id="wrapping-up">Wrapping Up</h3>

You can also use builtin utilities to do simple tasks, like appending content to files:

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo "name=core1" &gt;&gt; ./solr/core.properties
</code></pre></div></div>

That’s it for now, continue on to the next part, <a href="http://krues8dr.com/blog/2015/05/10/unix-tools/">Unix Tools</a>.


          
          </p>
          <p>
            <a href="/blog/2015/05/10/bash-basics/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    

      
      

      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2014/11/06/programming-books/"up-follow>Programming Books</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2014.11.07
            </span> –
          
            <a href="https://gist.github.com/krues8dr/4a947e2a439a54eb22e9" title="Programming Books - a list by Krues8dr">I’ve started a list of books to improve help programmers improve their craft.</a>  It’s also grown to include topics on management, design, business, and philosophy.  Have a look!


          
          </p>
          <p>
            <a href="/blog/2014/11/06/programming-books/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    

      
      

      <article class="post-multiple">
        <header class="post-header hoverable">
          <h3 class="post-title"><a href="/blog/2014/06/17/setting-the-standards-for-open-government-data/"up-follow>Setting the Standards for Open Government Data</a></h3>
        </header>
        <div class="post-content">
          
          <p>
            <span class="date">
              2014.06.17
            </span> –
          
            City and state governments across America are adopting Open Data policies at a fantastic clip. Technology hotbed San Francisco has one, but places far from Silicon Valley – like Pittsburgh, PA – are also joining the municipal open data movement. The increasing availability of free tools and enthusiastic volunteer software developers has opened the door for a vast amount of new government data to be made publicly available in digital form. But merely putting this data out there on the Internet is only the first step.

<!--more-->
Much of this city data is released under assumption that a government agency must publish something – anything – and fast. In this rush to demonstrate progress, little thought is given to the how. But the citizens who care about this data – and are actually building websites and applications with it – need to access it in machine-readable, accessible, and standards-compliant formats, as the Sunlight Foundation explains here. This explains why most city open data sets aren’t seen or used. There is a vast difference between merely opening data, and publishing Open Data.

By publishing data in good formats that adhere to modern, widely-accepted standards, users of the data may reuse existing software to manipulate and display the data in a variety of ways, without having to start from scratch. Moreover, it allows easy comparison between data from different sources. If every city and every organization chooses to adopt their own standard for data output, this task becomes absolutely insurmountable – the data will grow faster than anyone on the outside can possibly keep up.

<h3 id="its-a-mess-most-open-government-data-is-virtually-useless">It’s a Mess: Most “Open Government Data” Is Virtually Useless</h3>

Take, for example, the mess that is data.gov. Lots of data is available – but most of these datasets are windows-only self-extracting zip archives of Excel files without headings that are nearly useless. This is not what the community at large means by “Open Data” – there are lots of closed formats along the way.

Similarly, data which is released with its own schema, rather than adopting a common standard, is just as problematic. If you’re forcing your users to learn an entirely new data schema – essentially, a brand new language – and to write entirely new parsing software – a brand new translator – just to interact with your data, you’ve added a considerable barrier to entry that undercuts openness and accessibility.

A good standard lets anyone who wants to interact with the data do so easily, without having to learn anything new or build anything new. Standard programming libraries can be built, so that it’s as simple as opening a webpage for everyone. This means that in most programming languages, using a standards-based data source can be as simple as it is to interact with the web, import httplib and you’re done.

<h3 id="evaluating-existing-standards">Evaluating Existing Standards</h3>

Every day at The OpenGov Foundation, I work with legal and legislative data. Laws, legal codes, legislation, regulations, and judicial opinions are a few examples. What standard do we use? Well, let’s look at the most common standards available for publishing legal data on the Internet:

<ul>
  <li>Akoma Ntoso – a well-known XML-based format that is very verbose. The level of complexity presents a high barrier to entry for most users, and has prevented its wide adoption.</li>
  <li>United States Legislative Markup (USLM) – another XML-based format used by the US House of Representatives. It has the advantage of being not very verbose, extensible, and easy to use.</li>
  <li>State Decoded XML – the format used by The State Decoded project. Currently, this only support law code data, and is not widely adopted outside of this project.</li>
  <li>JSON – JSON is not actually a standard, but a general format well suited to relational and tabular data, and chunks of plain text. A variant is JSON-LD which has all of the same properties, but is better for relational data. It is commonly used for transferring data on the web, but it is not practical for annotated or marked-up data.</li>
</ul>

None of these are ideal. But if I had to pick a single option to move forward, the USLM standard is the most attractive for several reasons:

<ul>
  <li>It is older, established, and has good documentation</li>
  <li>It is easily implemented and used</li>
  <li>It is extensible, but not especially verbose</li>
  <li>It is designed to handle inline markup and annotation, such as tables, mathematical formulas, and images</li>
</ul>

It also acts as a very good “greatest common factor” as a primary format – it can be translated easily into common formats such as HTML, Microsoft Word, plain text, and even JSON – but does not add any superfluous complexity to address most common needs (e.g., tables or annotations) that other formats require.

<h3 id="setting-the-standard-for-open-law--legislative-data">Setting the Standard for Open Law &amp; Legislative Data</h3>

Moving forward, the next step beyond simply exporting USLM data from existing data sources would be to to have end-to-end solutions that speak USLM natively. Instead of editing Word or WordPerfect documents to craft legislation, lawmakers could write bills in new tools that look and feel like Word, but are actually crafting well-formatted USLM XML behind the scenes, instead of a closed-source, locked-in format. This is what we call “What You See Is What You Mean” – or WYSIWYM.

Here at The OpenGov Foundation, we believe in a rich, standards-based data economy, and we are our actively doing our part to contribute. Our open-source online policymaking platform – Madison – already consumes USLM, and we are actively working on an WYSIWYM editor to make it easier to create and modify policy documents in Madison. We are also investigating USLM support for The State Decoded – both as an input and output format. Hopefully, other software projects will actively follow suit – creating an interoperable ecosystem of legal data for everyone in the United States.

          
          </p>
          <p>
            <a href="/blog/2014/06/17/setting-the-standards-for-open-government-data/" class="btn"up-follow>Read This</a>
          </p>
        </div>
      </article>
    
  </div>
  <!-- Pagination links -->
  <div class="pagination">
    
      <a href="/posts/2/" class="previous btn" title="Previous Page" up-follow>
        ◀
      </a>
    
    <span class="page-number ">
      3
    </span>
    
      <a href="/posts/4/" class="next btn" title="Next Page" up-follow>▶</a>
    
  </div>
</section>


    </div>
<footer class="page-footer">
  <div class="webring">
    <script src="https://pitwebring.billhunt.dev/webring.js"></script>
    <script>showWebring(true);</script>
  </div>

  <div class="webring">
    <div class="webring-title">
      Member of the <a href="https://webring.obeythesystem.com/" rel="nofollow">Obey the System Webring</a>.
    </div>
    <nav class="webring-nav">
      <ul class="webring-links">
        <li><a href="https://webring.obeythesystem.com/page?=previous" rel="nofollow">← previous</a></li>
        <li><a href="https://webring.obeythesystem.com/page?=next" rel="nofollow">next →</a></li>
      </ul>
    </nav>
  </div>

  <div class="oldschool-buttons">
    <a href="https://pitwebring.billhunt.dev/" class="old-button" title="Public Interest Tech Webring"><img src="/assets/images/buttons/pitwebring-88x31.gif" alt="" aria-hidden="true"></a>
    <a href="https://webring.obeythesystem.com/" class="old-button" rel="nofollow"><img src="https://webring.obeythesystem.com/ots_webring_button_1.gif" alt="OTS Webring Button"></a>
    <span class="old-button"><img src="/assets/images/buttons/human-88x31.gif" alt="Human-Made - No AI"></span>
    <a href="https://jekyllrb.com/" title="Built With Jekyll" class="old-button"><img src="/assets/images/buttons/jekyll-88x31-ani.gif" alt="" aria-hidden="true"></a>
    <a href="https://archive.org/download/netscape-navigator-4.0.4/netscape-navigator-4.0.4.png" class="old-button" title="This links to an image of the Netscape install CD"><img src="/assets/images/buttons/netscape3-88x31-ani.gif" alt="Get Netscape 3.0"></a>
  </div>
</footer>
</body>

</html>
